<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teste Auth.js</title>
</head>

<body>
    <h1>Teste Auth.js - Verifica√ß√£o de Carregamento</h1>
    <div id="results"></div>

    <button onclick="testAuth()">Testar Auth</button>

    <script src="frontend/assets/js/config.js"></script>
    <script src="frontend/assets/js/auth.js"></script>

    <script>
        function testAuth() {
            const results = document.getElementById('results');
            results.innerHTML = '';

            console.log('üß™ Testando objeto auth...');

            // Teste 1: Verificar se auth existe
            if (window.auth) {
                results.innerHTML += `<p>‚úÖ <strong>window.auth existe</strong></p>`;

                // Teste 2: Verificar fun√ß√µes dispon√≠veis
                const expectedFunctions = ['loginUser', 'getToken', 'getUser', 'isAuthenticated', 'logout'];
                let allFunctionsExist = true;

                expectedFunctions.forEach(func => {
                    if (typeof window.auth[func] === 'function') {
                        results.innerHTML += `<p>‚úÖ auth.${func} dispon√≠vel</p>`;
                    } else {
                        results.innerHTML += `<p>‚ùå auth.${func} n√£o encontrado</p>`;
                        allFunctionsExist = false;
                    }
                });

                if (allFunctionsExist) {
                    results.innerHTML += `<p>üéâ <strong>Todas as fun√ß√µes do auth est√£o dispon√≠veis!</strong></p>`;
                }

                // Teste 3: Verificar CONFIG
                if (window.CONFIG) {
                    results.innerHTML += `<p>‚úÖ CONFIG dispon√≠vel: ${window.CONFIG.api.baseUrl}</p>`;
                } else {
                    results.innerHTML += `<p>‚ö†Ô∏è CONFIG n√£o dispon√≠vel</p>`;
                }

            } else {
                results.innerHTML += `<p>‚ùå <strong>window.auth n√£o existe - erro no carregamento!</strong></p>`;
            }
        }

        // Executar teste automaticamente quando p√°gina carregar
        window.onload = () => {
            setTimeout(testAuth, 1000); // Aguardar 1 segundo para garantir carregamento
        };
    </script>
</body>

</html>