
DevTools listening on ws://127.0.0.1:39975/devtools/browser/62b663f4-c5e3-4148-ad76-066269d67b2a

================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:        14.5.3                                                                         │
  │ Browser:        Electron 130 (headless)                                                        │
  │ Node Version:   v22.16.0 (/home/ubuntu/.nvm/versions/node/v22.16.0/bin/node)                   │
  │ Specs:          3 found (auth.cy.js, payment.cy.js, cv-analysis-complete.cy.js)                │
  │ Searched:       cypress/e2e/auth.cy.js, cypress/e2e/payment.cy.js, cypress/e2e/cv-analysis-com │
  │                 plete.cy.js                                                                    │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running:  auth.cy.js                                                                      (1 of 3)
Starting test: should display login form with option to register
Completed test: should display login form with option to register
Starting test: should switch to registration form when clicking register
Completed test: should switch to registration form when clicking register
Starting test: should show validation errors for empty fields
Completed test: should show validation errors for empty fields
Starting test: should show validation error for invalid email
Completed test: should show validation error for invalid email
Starting test: should show validation error for weak password
Completed test: should show validation error for weak password
Starting test: should successfully register a new user
Completed test: should successfully register a new user
Starting test: should show error for duplicate email
Completed test: should show error for duplicate email
Starting test: should display login form
Completed test: should display login form
Starting test: should show error for invalid credentials
Completed test: should show error for invalid credentials
Starting test: should successfully login with valid credentials
Completed test: should successfully login with valid credentials
Starting test: should show password visibility toggle
Completed test: should show password visibility toggle
Starting test: should remember user with "Remember me" checkbox
Completed test: should remember user with "Remember me" checkbox
Starting test: should display logout button when logged in
Completed test: should display logout button when logged in
Starting test: should display password reset form
Completed test: should display password reset form
Starting test: should show validation error for empty email
Completed test: should show validation error for empty email
Starting test: should show validation error for invalid email
Completed test: should show validation error for invalid email
Starting test: should successfully request password reset
Completed test: should successfully request password reset
Starting test: should show error for non-existent email
Completed test: should show error for non-existent email
Starting test: should maintain session on page refresh
Completed test: should maintain session on page refresh
{
  "stats": {
    "suites": 6,
    "tests": 19,
    "passes": 0,
    "pending": 0,
    "failures": 19,
    "start": "2025-07-30T17:39:23.518Z",
    "end": "2025-07-30T17:42:10.815Z",
    "duration": 167297
  },
  "tests": [
    {
      "title": "should display login form with option to register",
      "fullTitle": "Authentication Flow User Registration through Login Page should display login form with option to register",
      "file": null,
      "duration": 10493,
      "currentRetry": 0,
      "err": {
        "message": "Timed out retrying after 10000ms: Expected to find content: 'Não tem uma conta?' but never did.",
        "type": "existence",
        "name": "AssertionError",
        "stack": "AssertionError: Timed out retrying after 10000ms: Expected to find content: 'Não tem uma conta?' but never did.\n    at Context.eval (webpack://cvsemfrescura-backend/./cypress/e2e/auth.cy.js:16:40)",
        "parsedStack": [
          {
            "message": "AssertionError: Timed out retrying after 10000ms: Expected to find content: 'Não tem uma conta?' but never did.",
            "whitespace": ""
          },
          {
            "function": "Context.eval",
            "fileUrl": "http://localhost:3001/__cypress/tests?p=cypress/e2e/auth.cy.js",
            "originalFile": "webpack://cvsemfrescura-backend/./cypress/e2e/auth.cy.js",
            "relativeFile": "cypress/e2e/auth.cy.js",
            "absoluteFile": "/workspace/backend/cypress/e2e/auth.cy.js",
            "line": 16,
            "column": 40,
            "whitespace": "    "
          }
        ],
        "codeFrame": {
          "line": 16,
          "column": 41,
          "originalFile": "cypress/e2e/auth.cy.js",
          "relativeFile": "backend/cypress/e2e/auth.cy.js",
          "absoluteFile": "/workspace/backend/cypress/e2e/auth.cy.js",
          "frame": "  14 |     it('should display login form with option to register', () => {\n  15 |       cy.get('form').should('be.visible');\n> 16 |       cy.contains('Não tem uma conta?').should('be.visible');\n     |                                         ^\n  17 |       cy.contains('Cadastre-se').should('be.visible');\n  18 |     });\n  19 |",
          "language": "js"
        }
      }
    },
    {
      "title": "should switch to registration form when clicking register",
      "fullTitle": "Authentication Flow User Registration through Login Page should switch to registration form when clicking register",
      "file": null,
      "duration": 10282,
      "currentRetry": 0,
      "err": {
        "message": "Timed out retrying after 10000ms: Expected to find element: `input[name=\"name\"]`, but never found it.",
        "type": "existence",
        "name": "AssertionError",
        "stack": "AssertionError: Timed out retrying after 10000ms: Expected to find element: `input[name=\"name\"]`, but never found it.\n    at Context.eval (webpack://cvsemfrescura-backend/./cypress/e2e/auth.cy.js:22:35)",
        "parsedStack": [
          {
            "message": "AssertionError: Timed out retrying after 10000ms: Expected to find element: `input[name=\"name\"]`, but never found it.",
            "whitespace": ""
          },
          {
            "function": "Context.eval",
            "fileUrl": "http://localhost:3001/__cypress/tests?p=cypress/e2e/auth.cy.js",
            "originalFile": "webpack://cvsemfrescura-backend/./cypress/e2e/auth.cy.js",
            "relativeFile": "cypress/e2e/auth.cy.js",
            "absoluteFile": "/workspace/backend/cypress/e2e/auth.cy.js",
            "line": 22,
            "column": 35,
            "whitespace": "    "
          }
        ],
        "codeFrame": {
          "line": 22,
          "column": 36,
          "originalFile": "cypress/e2e/auth.cy.js",
          "relativeFile": "backend/cypress/e2e/auth.cy.js",
          "absoluteFile": "/workspace/backend/cypress/e2e/auth.cy.js",
          "frame": "  20 |     it('should switch to registration form when clicking register', () => {\n  21 |       cy.contains('Cadastre-se').click();\n> 22 |       cy.get('input[name=\"name\"]').should('be.visible');\n     |                                    ^\n  23 |       cy.get('input[name=\"email\"]').should('be.visible');\n  24 |       cy.get('input[name=\"password\"]').should('be.visible');\n  25 |       cy.get('input[name=\"phone\"]').should('be.visible');",
          "language": "js"
        }
      }
    },
    {
      "title": "should show validation errors for empty fields",
      "fullTitle": "Authentication Flow User Registration through Login Page should show validation errors for empty fields",
      "file": null,
      "duration": 272,
      "currentRetry": 0,
      "err": {
        "message": "`cy.click()` can only be called on a single element. Your subject contained 2 elements. Pass `{ multiple: true }` if you want to serially click each element.\n\nhttps://on.cypress.io/click",
        "name": "CypressError",
        "stack": "CypressError: `cy.click()` can only be called on a single element. Your subject contained 2 elements. Pass `{ multiple: true }` if you want to serially click each element.\n\nhttps://on.cypress.io/click\n    at mouseAction (http://localhost:3001/__cypress/runner/cypress_runner.js:113980:68)\n    at Context.click (http://localhost:3001/__cypress/runner/cypress_runner.js:114147:14)\n    at wrapped (http://localhost:3001/__cypress/runner/cypress_runner.js:141532:19)\nFrom Your Spec Code:\n    at Context.eval (webpack://cvsemfrescura-backend/./cypress/e2e/auth.cy.js:30:38)",
        "parsedStack": [
          {
            "message": "CypressError: `cy.click()` can only be called on a single element. Your subject contained 2 elements. Pass `{ multiple: true }` if you want to serially click each element.",
            "whitespace": ""
          },
          {
            "function": "mouseAction",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 113980,
            "column": 68,
            "whitespace": "    "
          },
          {
            "function": "Context.click",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 114147,
            "column": 14,
            "whitespace": "    "
          },
          {
            "function": "wrapped",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 141532,
            "column": 19,
            "whitespace": "    "
          },
          {
            "message": "From Your Spec Code:",
            "whitespace": ""
          },
          {
            "function": "Context.eval",
            "fileUrl": "http://localhost:3001/__cypress/tests?p=cypress/e2e/auth.cy.js",
            "originalFile": "webpack://cvsemfrescura-backend/./cypress/e2e/auth.cy.js",
            "relativeFile": "cypress/e2e/auth.cy.js",
            "absoluteFile": "/workspace/backend/cypress/e2e/auth.cy.js",
            "line": 30,
            "column": 38,
            "whitespace": "    "
          }
        ],
        "codeFrame": {
          "line": 30,
          "column": 39,
          "originalFile": "cypress/e2e/auth.cy.js",
          "relativeFile": "backend/cypress/e2e/auth.cy.js",
          "absoluteFile": "/workspace/backend/cypress/e2e/auth.cy.js",
          "frame": "  28 |     it('should show validation errors for empty fields', () => {\n  29 |       cy.contains('Cadastre-se').click();\n> 30 |       cy.get('button[type=\"submit\"]').click();\n     |                                       ^\n  31 |       cy.contains('obrigatório').should('be.visible');\n  32 |     });\n  33 |",
          "language": "js"
        }
      }
    },
    {
      "title": "should show validation error for invalid email",
      "fullTitle": "Authentication Flow User Registration through Login Page should show validation error for invalid email",
      "file": null,
      "duration": 10329,
      "currentRetry": 0,
      "err": {
        "message": "Timed out retrying after 10000ms: Expected to find element: `input[name=\"email\"]`, but never found it.",
        "type": "existence",
        "name": "AssertionError",
        "stack": "AssertionError: Timed out retrying after 10000ms: Expected to find element: `input[name=\"email\"]`, but never found it.\n    at Context.eval (webpack://cvsemfrescura-backend/./cypress/e2e/auth.cy.js:36:9)",
        "parsedStack": [
          {
            "message": "AssertionError: Timed out retrying after 10000ms: Expected to find element: `input[name=\"email\"]`, but never found it.",
            "whitespace": ""
          },
          {
            "function": "Context.eval",
            "fileUrl": "http://localhost:3001/__cypress/tests?p=cypress/e2e/auth.cy.js",
            "originalFile": "webpack://cvsemfrescura-backend/./cypress/e2e/auth.cy.js",
            "relativeFile": "cypress/e2e/auth.cy.js",
            "absoluteFile": "/workspace/backend/cypress/e2e/auth.cy.js",
            "line": 36,
            "column": 9,
            "whitespace": "    "
          }
        ],
        "codeFrame": {
          "line": 36,
          "column": 10,
          "originalFile": "cypress/e2e/auth.cy.js",
          "relativeFile": "backend/cypress/e2e/auth.cy.js",
          "absoluteFile": "/workspace/backend/cypress/e2e/auth.cy.js",
          "frame": "  34 |     it('should show validation error for invalid email', () => {\n  35 |       cy.contains('Cadastre-se').click();\n> 36 |       cy.get('input[name=\"email\"]').type('invalid-email');\n     |          ^\n  37 |       cy.get('button[type=\"submit\"]').click();\n  38 |       cy.contains('inválido').should('be.visible');\n  39 |     });",
          "language": "js"
        }
      }
    },
    {
      "title": "should show validation error for weak password",
      "fullTitle": "Authentication Flow User Registration through Login Page should show validation error for weak password",
      "file": null,
      "duration": 10316,
      "currentRetry": 0,
      "err": {
        "message": "Timed out retrying after 10000ms: Expected to find element: `input[name=\"password\"]`, but never found it.",
        "type": "existence",
        "name": "AssertionError",
        "stack": "AssertionError: Timed out retrying after 10000ms: Expected to find element: `input[name=\"password\"]`, but never found it.\n    at Context.eval (webpack://cvsemfrescura-backend/./cypress/e2e/auth.cy.js:43:9)",
        "parsedStack": [
          {
            "message": "AssertionError: Timed out retrying after 10000ms: Expected to find element: `input[name=\"password\"]`, but never found it.",
            "whitespace": ""
          },
          {
            "function": "Context.eval",
            "fileUrl": "http://localhost:3001/__cypress/tests?p=cypress/e2e/auth.cy.js",
            "originalFile": "webpack://cvsemfrescura-backend/./cypress/e2e/auth.cy.js",
            "relativeFile": "cypress/e2e/auth.cy.js",
            "absoluteFile": "/workspace/backend/cypress/e2e/auth.cy.js",
            "line": 43,
            "column": 9,
            "whitespace": "    "
          }
        ],
        "codeFrame": {
          "line": 43,
          "column": 10,
          "originalFile": "cypress/e2e/auth.cy.js",
          "relativeFile": "backend/cypress/e2e/auth.cy.js",
          "absoluteFile": "/workspace/backend/cypress/e2e/auth.cy.js",
          "frame": "  41 |     it('should show validation error for weak password', () => {\n  42 |       cy.contains('Cadastre-se').click();\n> 43 |       cy.get('input[name=\"password\"]').type('weak');\n     |          ^\n  44 |       cy.get('button[type=\"submit\"]').click();\n  45 |       cy.contains('Senha deve ter pelo menos').should('be.visible');\n  46 |     });",
          "language": "js"
        }
      }
    },
    {
      "title": "should successfully register a new user",
      "fullTitle": "Authentication Flow User Registration through Login Page should successfully register a new user",
      "file": null,
      "duration": 10322,
      "currentRetry": 0,
      "err": {
        "message": "Timed out retrying after 10000ms: Expected to find element: `input[name=\"name\"]`, but never found it.",
        "type": "existence",
        "name": "AssertionError",
        "stack": "AssertionError: Timed out retrying after 10000ms: Expected to find element: `input[name=\"name\"]`, but never found it.\n    at Context.eval (webpack://cvsemfrescura-backend/./cypress/e2e/auth.cy.js:50:9)",
        "parsedStack": [
          {
            "message": "AssertionError: Timed out retrying after 10000ms: Expected to find element: `input[name=\"name\"]`, but never found it.",
            "whitespace": ""
          },
          {
            "function": "Context.eval",
            "fileUrl": "http://localhost:3001/__cypress/tests?p=cypress/e2e/auth.cy.js",
            "originalFile": "webpack://cvsemfrescura-backend/./cypress/e2e/auth.cy.js",
            "relativeFile": "cypress/e2e/auth.cy.js",
            "absoluteFile": "/workspace/backend/cypress/e2e/auth.cy.js",
            "line": 50,
            "column": 9,
            "whitespace": "    "
          }
        ],
        "codeFrame": {
          "line": 50,
          "column": 10,
          "originalFile": "cypress/e2e/auth.cy.js",
          "relativeFile": "backend/cypress/e2e/auth.cy.js",
          "absoluteFile": "/workspace/backend/cypress/e2e/auth.cy.js",
          "frame": "  48 |     it('should successfully register a new user', () => {\n  49 |       cy.contains('Cadastre-se').click();\n> 50 |       cy.get('input[name=\"name\"]').type(testUser.name);\n     |          ^\n  51 |       cy.get('input[name=\"email\"]').type(testUser.email);\n  52 |       cy.get('input[name=\"password\"]').type(testUser.password);\n  53 |       cy.get('input[name=\"phone\"]').type(testUser.phone);",
          "language": "js"
        }
      }
    },
    {
      "title": "should show error for duplicate email",
      "fullTitle": "Authentication Flow User Registration through Login Page should show error for duplicate email",
      "file": null,
      "duration": 10486,
      "currentRetry": 0,
      "err": {
        "message": "Timed out retrying after 10000ms: Expected to find element: `input[name=\"name\"]`, but never found it.",
        "type": "existence",
        "name": "AssertionError",
        "stack": "AssertionError: Timed out retrying after 10000ms: Expected to find element: `input[name=\"name\"]`, but never found it.\n    at Context.eval (webpack://cvsemfrescura-backend/./cypress/e2e/auth.cy.js:68:9)",
        "parsedStack": [
          {
            "message": "AssertionError: Timed out retrying after 10000ms: Expected to find element: `input[name=\"name\"]`, but never found it.",
            "whitespace": ""
          },
          {
            "function": "Context.eval",
            "fileUrl": "http://localhost:3001/__cypress/tests?p=cypress/e2e/auth.cy.js",
            "originalFile": "webpack://cvsemfrescura-backend/./cypress/e2e/auth.cy.js",
            "relativeFile": "cypress/e2e/auth.cy.js",
            "absoluteFile": "/workspace/backend/cypress/e2e/auth.cy.js",
            "line": 68,
            "column": 9,
            "whitespace": "    "
          }
        ],
        "codeFrame": {
          "line": 68,
          "column": 10,
          "originalFile": "cypress/e2e/auth.cy.js",
          "relativeFile": "backend/cypress/e2e/auth.cy.js",
          "absoluteFile": "/workspace/backend/cypress/e2e/auth.cy.js",
          "frame": "  66 |       cy.visit('/analisar.html?login=true');\n  67 |       cy.contains('Cadastre-se').click();\n> 68 |       cy.get('input[name=\"name\"]').type(testUser.name);\n     |          ^\n  69 |       cy.get('input[name=\"email\"]').type(testUser.email);\n  70 |       cy.get('input[name=\"password\"]').type(testUser.password);\n  71 |       cy.get('input[name=\"phone\"]').type(testUser.phone);",
          "language": "js"
        }
      }
    },
    {
      "title": "should display login form",
      "fullTitle": "Authentication Flow User Login should display login form",
      "file": null,
      "duration": 10280,
      "currentRetry": 0,
      "err": {
        "message": "Timed out retrying after 10000ms: Expected to find element: `input[name=\"email\"]`, but never found it.",
        "type": "existence",
        "name": "AssertionError",
        "stack": "AssertionError: Timed out retrying after 10000ms: Expected to find element: `input[name=\"email\"]`, but never found it.\n    at Context.eval (webpack://cvsemfrescura-backend/./cypress/e2e/auth.cy.js:87:36)",
        "parsedStack": [
          {
            "message": "AssertionError: Timed out retrying after 10000ms: Expected to find element: `input[name=\"email\"]`, but never found it.",
            "whitespace": ""
          },
          {
            "function": "Context.eval",
            "fileUrl": "http://localhost:3001/__cypress/tests?p=cypress/e2e/auth.cy.js",
            "originalFile": "webpack://cvsemfrescura-backend/./cypress/e2e/auth.cy.js",
            "relativeFile": "cypress/e2e/auth.cy.js",
            "absoluteFile": "/workspace/backend/cypress/e2e/auth.cy.js",
            "line": 87,
            "column": 36,
            "whitespace": "    "
          }
        ],
        "codeFrame": {
          "line": 87,
          "column": 37,
          "originalFile": "cypress/e2e/auth.cy.js",
          "relativeFile": "backend/cypress/e2e/auth.cy.js",
          "absoluteFile": "/workspace/backend/cypress/e2e/auth.cy.js",
          "frame": "  85 |     it('should display login form', () => {\n  86 |       cy.get('form').should('be.visible');\n> 87 |       cy.get('input[name=\"email\"]').should('be.visible');\n     |                                     ^\n  88 |       cy.get('input[name=\"password\"]').should('be.visible');\n  89 |       cy.get('button[type=\"submit\"]').should('be.visible');\n  90 |     });",
          "language": "js"
        }
      }
    },
    {
      "title": "should show error for invalid credentials",
      "fullTitle": "Authentication Flow User Login should show error for invalid credentials",
      "file": null,
      "duration": 10273,
      "currentRetry": 0,
      "err": {
        "message": "Timed out retrying after 10000ms: Expected to find element: `input[name=\"email\"]`, but never found it.",
        "type": "existence",
        "name": "AssertionError",
        "stack": "AssertionError: Timed out retrying after 10000ms: Expected to find element: `input[name=\"email\"]`, but never found it.\n    at Context.eval (webpack://cvsemfrescura-backend/./cypress/e2e/auth.cy.js:93:9)",
        "parsedStack": [
          {
            "message": "AssertionError: Timed out retrying after 10000ms: Expected to find element: `input[name=\"email\"]`, but never found it.",
            "whitespace": ""
          },
          {
            "function": "Context.eval",
            "fileUrl": "http://localhost:3001/__cypress/tests?p=cypress/e2e/auth.cy.js",
            "originalFile": "webpack://cvsemfrescura-backend/./cypress/e2e/auth.cy.js",
            "relativeFile": "cypress/e2e/auth.cy.js",
            "absoluteFile": "/workspace/backend/cypress/e2e/auth.cy.js",
            "line": 93,
            "column": 9,
            "whitespace": "    "
          }
        ],
        "codeFrame": {
          "line": 93,
          "column": 10,
          "originalFile": "cypress/e2e/auth.cy.js",
          "relativeFile": "backend/cypress/e2e/auth.cy.js",
          "absoluteFile": "/workspace/backend/cypress/e2e/auth.cy.js",
          "frame": "  91 |\n  92 |     it('should show error for invalid credentials', () => {\n> 93 |       cy.get('input[name=\"email\"]').type('wrong@example.com');\n     |          ^\n  94 |       cy.get('input[name=\"password\"]').type('wrongpassword');\n  95 |       cy.get('button[type=\"submit\"]').click();\n  96 |       ",
          "language": "js"
        }
      }
    },
    {
      "title": "should successfully login with valid credentials",
      "fullTitle": "Authentication Flow User Login should successfully login with valid credentials",
      "file": null,
      "duration": 10237,
      "currentRetry": 0,
      "err": {
        "message": "Timed out retrying after 10000ms: Expected to find element: `input[name=\"email\"]`, but never found it.",
        "type": "existence",
        "name": "AssertionError",
        "stack": "AssertionError: Timed out retrying after 10000ms: Expected to find element: `input[name=\"email\"]`, but never found it.\n    at Context.eval (webpack://cvsemfrescura-backend/./cypress/e2e/auth.cy.js:101:9)",
        "parsedStack": [
          {
            "message": "AssertionError: Timed out retrying after 10000ms: Expected to find element: `input[name=\"email\"]`, but never found it.",
            "whitespace": ""
          },
          {
            "function": "Context.eval",
            "fileUrl": "http://localhost:3001/__cypress/tests?p=cypress/e2e/auth.cy.js",
            "originalFile": "webpack://cvsemfrescura-backend/./cypress/e2e/auth.cy.js",
            "relativeFile": "cypress/e2e/auth.cy.js",
            "absoluteFile": "/workspace/backend/cypress/e2e/auth.cy.js",
            "line": 101,
            "column": 9,
            "whitespace": "    "
          }
        ],
        "codeFrame": {
          "line": 101,
          "column": 10,
          "originalFile": "cypress/e2e/auth.cy.js",
          "relativeFile": "backend/cypress/e2e/auth.cy.js",
          "absoluteFile": "/workspace/backend/cypress/e2e/auth.cy.js",
          "frame": "   99 |\n  100 |     it('should successfully login with valid credentials', () => {\n> 101 |       cy.get('input[name=\"email\"]').type(Cypress.env('testEmail'));\n      |          ^\n  102 |       cy.get('input[name=\"password\"]').type(Cypress.env('testPassword'));\n  103 |       cy.get('button[type=\"submit\"]').click();\n  104 |       ",
          "language": "js"
        }
      }
    },
    {
      "title": "should show password visibility toggle",
      "fullTitle": "Authentication Flow User Login should show password visibility toggle",
      "file": null,
      "duration": 10289,
      "currentRetry": 0,
      "err": {
        "message": "Timed out retrying after 10000ms: Expected to find element: `input[name=\"password\"]`, but never found it.",
        "type": "existence",
        "name": "AssertionError",
        "stack": "AssertionError: Timed out retrying after 10000ms: Expected to find element: `input[name=\"password\"]`, but never found it.\n    at Context.eval (webpack://cvsemfrescura-backend/./cypress/e2e/auth.cy.js:111:39)",
        "parsedStack": [
          {
            "message": "AssertionError: Timed out retrying after 10000ms: Expected to find element: `input[name=\"password\"]`, but never found it.",
            "whitespace": ""
          },
          {
            "function": "Context.eval",
            "fileUrl": "http://localhost:3001/__cypress/tests?p=cypress/e2e/auth.cy.js",
            "originalFile": "webpack://cvsemfrescura-backend/./cypress/e2e/auth.cy.js",
            "relativeFile": "cypress/e2e/auth.cy.js",
            "absoluteFile": "/workspace/backend/cypress/e2e/auth.cy.js",
            "line": 111,
            "column": 39,
            "whitespace": "    "
          }
        ],
        "codeFrame": {
          "line": 111,
          "column": 40,
          "originalFile": "cypress/e2e/auth.cy.js",
          "relativeFile": "backend/cypress/e2e/auth.cy.js",
          "absoluteFile": "/workspace/backend/cypress/e2e/auth.cy.js",
          "frame": "  109 |\n  110 |     it('should show password visibility toggle', () => {\n> 111 |       cy.get('input[name=\"password\"]').should('have.attr', 'type', 'password');\n      |                                        ^\n  112 |       cy.get('[data-cy=\"toggle-password\"]').click();\n  113 |       cy.get('input[name=\"password\"]').should('have.attr', 'type', 'text');\n  114 |     });",
          "language": "js"
        }
      }
    },
    {
      "title": "should remember user with \"Remember me\" checkbox",
      "fullTitle": "Authentication Flow User Login should remember user with \"Remember me\" checkbox",
      "file": null,
      "duration": 10260,
      "currentRetry": 0,
      "err": {
        "message": "Timed out retrying after 10000ms: Expected to find element: `input[type=\"checkbox\"]`, but never found it.",
        "type": "existence",
        "name": "AssertionError",
        "stack": "AssertionError: Timed out retrying after 10000ms: Expected to find element: `input[type=\"checkbox\"]`, but never found it.\n    at Context.eval (webpack://cvsemfrescura-backend/./cypress/e2e/auth.cy.js:117:9)",
        "parsedStack": [
          {
            "message": "AssertionError: Timed out retrying after 10000ms: Expected to find element: `input[type=\"checkbox\"]`, but never found it.",
            "whitespace": ""
          },
          {
            "function": "Context.eval",
            "fileUrl": "http://localhost:3001/__cypress/tests?p=cypress/e2e/auth.cy.js",
            "originalFile": "webpack://cvsemfrescura-backend/./cypress/e2e/auth.cy.js",
            "relativeFile": "cypress/e2e/auth.cy.js",
            "absoluteFile": "/workspace/backend/cypress/e2e/auth.cy.js",
            "line": 117,
            "column": 9,
            "whitespace": "    "
          }
        ],
        "codeFrame": {
          "line": 117,
          "column": 10,
          "originalFile": "cypress/e2e/auth.cy.js",
          "relativeFile": "backend/cypress/e2e/auth.cy.js",
          "absoluteFile": "/workspace/backend/cypress/e2e/auth.cy.js",
          "frame": "  115 |\n  116 |     it('should remember user with \"Remember me\" checkbox', () => {\n> 117 |       cy.get('input[type=\"checkbox\"]').check();\n      |          ^\n  118 |       cy.get('input[name=\"email\"]').type(Cypress.env('testEmail'));\n  119 |       cy.get('input[name=\"password\"]').type(Cypress.env('testPassword'));\n  120 |       cy.get('button[type=\"submit\"]').click();",
          "language": "js"
        }
      }
    },
    {
      "title": "should display logout button when logged in",
      "fullTitle": "Authentication Flow User Logout should display logout button when logged in",
      "file": null,
      "duration": 127,
      "currentRetry": 0,
      "err": {
        "message": "`cy.request()` failed on:\n\nhttp://localhost:3001/api/user/login\n\nThe response we received from your web server was:\n\n  > 400: Bad Request\n\nThis was considered a failure because the status code was not `2xx` or `3xx`.\n\nIf you do not want status codes to cause failures pass the option: `failOnStatusCode: false`\n\n-----------------------------------------------------------\n\nThe request we sent was:\n\nMethod: POST\nURL: http://localhost:3001/api/user/login\nHeaders: {\n  \"Connection\": \"keep-alive\",\n  \"user-agent\": \"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Cypress/14.5.3 Chrome/130.0.6723.137 Electron/33.2.1 Safari/537.36\",\n  \"accept\": \"*/*\",\n  \"accept-encoding\": \"gzip, deflate\",\n  \"content-type\": \"application/json\",\n  \"content-length\": 52\n}\nBody: {\"email\":\"test@example.com\",\"password\":\"Test123!@#\"}\n\n-----------------------------------------------------------\n\nThe response we got was:\n\nStatus: 400 - Bad Request\nHeaders: {\n  \"content-security-policy\": \"default-src 'self';style-src 'self' 'unsafe-inline';script-src 'self' 'unsafe-inline' https://js.stripe.com;img-src 'self' data: https:;connect-src 'self' https://api.openai.com https://api.stripe.com;font-src 'self' https://fonts.gstatic.com;object-src 'none';upgrade-insecure-requests;base-uri 'self';form-action 'self';frame-ancestors 'self';script-src-attr 'none'\",\n  \"cross-origin-opener-policy\": \"same-origin\",\n  \"cross-origin-resource-policy\": \"same-origin\",\n  \"origin-agent-cluster\": \"?1\",\n  \"referrer-policy\": \"no-referrer\",\n  \"strict-transport-security\": \"max-age=31536000; includeSubDomains; preload\",\n  \"x-content-type-options\": \"nosniff\",\n  \"x-dns-prefetch-control\": \"off\",\n  \"x-download-options\": \"noopen\",\n  \"x-frame-options\": \"SAMEORIGIN\",\n  \"x-permitted-cross-domain-policies\": \"none\",\n  \"x-xss-protection\": \"0\",\n  \"access-control-allow-origin\": \"*\",\n  \"access-control-allow-credentials\": \"true\",\n  \"content-type\": \"application/json; charset=utf-8\",\n  \"content-length\": \"158\",\n  \"etag\": \"W/\\\"9e-Ogrc9wEnesje3GshpCqSjXobaeE\\\"\",\n  \"date\": \"Wed, 30 Jul 2025 17:41:18 GMT\",\n  \"connection\": \"keep-alive\",\n  \"keep-alive\": \"timeout=5\"\n}\nBody: {\n  \"error\": \"Este email ainda não está cadastrado no sistema. Por favor, clique em \\\"Criar Conta\\\" para fazer seu cadastro primeiro.\",\n  \"needsRegistration\": true\n}\n\n\nhttps://on.cypress.io/request\n\nBecause this error occurred during a `before each` hook we are skipping the remaining tests in the current suite: `User Logout`",
        "name": "CypressError",
        "stack": "CypressError: `cy.request()` failed on:\n\nhttp://localhost:3001/api/user/login\n\nThe response we received from your web server was:\n\n  > 400: Bad Request\n\nThis was considered a failure because the status code was not `2xx` or `3xx`.\n\nIf you do not want status codes to cause failures pass the option: `failOnStatusCode: false`\n\n-----------------------------------------------------------\n\nThe request we sent was:\n\nMethod: POST\nURL: http://localhost:3001/api/user/login\nHeaders: {\n  \"Connection\": \"keep-alive\",\n  \"user-agent\": \"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Cypress/14.5.3 Chrome/130.0.6723.137 Electron/33.2.1 Safari/537.36\",\n  \"accept\": \"*/*\",\n  \"accept-encoding\": \"gzip, deflate\",\n  \"content-type\": \"application/json\",\n  \"content-length\": 52\n}\nBody: {\"email\":\"test@example.com\",\"password\":\"Test123!@#\"}\n\n-----------------------------------------------------------\n\nThe response we got was:\n\nStatus: 400 - Bad Request\nHeaders: {\n  \"content-security-policy\": \"default-src 'self';style-src 'self' 'unsafe-inline';script-src 'self' 'unsafe-inline' https://js.stripe.com;img-src 'self' data: https:;connect-src 'self' https://api.openai.com https://api.stripe.com;font-src 'self' https://fonts.gstatic.com;object-src 'none';upgrade-insecure-requests;base-uri 'self';form-action 'self';frame-ancestors 'self';script-src-attr 'none'\",\n  \"cross-origin-opener-policy\": \"same-origin\",\n  \"cross-origin-resource-policy\": \"same-origin\",\n  \"origin-agent-cluster\": \"?1\",\n  \"referrer-policy\": \"no-referrer\",\n  \"strict-transport-security\": \"max-age=31536000; includeSubDomains; preload\",\n  \"x-content-type-options\": \"nosniff\",\n  \"x-dns-prefetch-control\": \"off\",\n  \"x-download-options\": \"noopen\",\n  \"x-frame-options\": \"SAMEORIGIN\",\n  \"x-permitted-cross-domain-policies\": \"none\",\n  \"x-xss-protection\": \"0\",\n  \"access-control-allow-origin\": \"*\",\n  \"access-control-allow-credentials\": \"true\",\n  \"content-type\": \"application/json; charset=utf-8\",\n  \"content-length\": \"158\",\n  \"etag\": \"W/\\\"9e-Ogrc9wEnesje3GshpCqSjXobaeE\\\"\",\n  \"date\": \"Wed, 30 Jul 2025 17:41:18 GMT\",\n  \"connection\": \"keep-alive\",\n  \"keep-alive\": \"timeout=5\"\n}\nBody: {\n  \"error\": \"Este email ainda não está cadastrado no sistema. Por favor, clique em \\\"Criar Conta\\\" para fazer seu cadastro primeiro.\",\n  \"needsRegistration\": true\n}\n\n\nhttps://on.cypress.io/request\n\nBecause this error occurred during a `before each` hook we are skipping the remaining tests in the current suite: `User Logout`\n    at <unknown> (http://localhost:3001/__cypress/runner/cypress_runner.js:136330:72)\n    at tryCatcher (http://localhost:3001/__cypress/runner/cypress_runner.js:1777:23)\n    at Promise._settlePromiseFromHandler (http://localhost:3001/__cypress/runner/cypress_runner.js:1489:31)\n    at Promise._settlePromise (http://localhost:3001/__cypress/runner/cypress_runner.js:1546:18)\n    at Promise._settlePromise0 (http://localhost:3001/__cypress/runner/cypress_runner.js:1591:10)\n    at Promise._settlePromises (http://localhost:3001/__cypress/runner/cypress_runner.js:1671:18)\n    at _drainQueueStep (http://localhost:3001/__cypress/runner/cypress_runner.js:2377:12)\n    at _drainQueue (http://localhost:3001/__cypress/runner/cypress_runner.js:2370:9)\n    at Async._drainQueues (http://localhost:3001/__cypress/runner/cypress_runner.js:2386:5)\n    at Async.drainQueues (http://localhost:3001/__cypress/runner/cypress_runner.js:2256:14)\nFrom Your Spec Code:\n    at Context.eval (webpack://cvsemfrescura-backend/./cypress/support/commands.js:13:5)\n    at wrapped (http://localhost:3001/__cypress/runner/cypress_runner.js:141524:43)",
        "parsedStack": [
          {
            "message": "CypressError: `cy.request()` failed on:",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "http://localhost:3001/api/user/login",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "The response we received from your web server was:",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "> 400: Bad Request",
            "whitespace": "  "
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "This was considered a failure because the status code was not `2xx` or `3xx`.",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "If you do not want status codes to cause failures pass the option: `failOnStatusCode: false`",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "-----------------------------------------------------------",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "The request we sent was:",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "Method: POST",
            "whitespace": ""
          },
          {
            "message": "URL: http://localhost:3001/api/user/login",
            "whitespace": ""
          },
          {
            "message": "Headers: {",
            "whitespace": ""
          },
          {
            "message": "\"Connection\": \"keep-alive\",",
            "whitespace": "  "
          },
          {
            "message": "\"user-agent\": \"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Cypress/14.5.3 Chrome/130.0.6723.137 Electron/33.2.1 Safari/537.36\",",
            "whitespace": "  "
          },
          {
            "message": "\"accept\": \"*/*\",",
            "whitespace": "  "
          },
          {
            "message": "\"accept-encoding\": \"gzip, deflate\",",
            "whitespace": "  "
          },
          {
            "message": "\"content-type\": \"application/json\",",
            "whitespace": "  "
          },
          {
            "message": "\"content-length\": 52",
            "whitespace": "  "
          },
          {
            "message": "}",
            "whitespace": ""
          },
          {
            "message": "Body: {\"email\":\"test@example.com\",\"password\":\"Test123!@#\"}",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "-----------------------------------------------------------",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "The response we got was:",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "Status: 400 - Bad Request",
            "whitespace": ""
          },
          {
            "message": "Headers: {",
            "whitespace": ""
          },
          {
            "message": "\"content-security-policy\": \"default-src 'self';style-src 'self' 'unsafe-inline';script-src 'self' 'unsafe-inline' https://js.stripe.com;img-src 'self' data: https:;connect-src 'self' https://api.openai.com https://api.stripe.com;font-src 'self' https://fonts.gstatic.com;object-src 'none';upgrade-insecure-requests;base-uri 'self';form-action 'self';frame-ancestors 'self';script-src-attr 'none'\",",
            "whitespace": "  "
          },
          {
            "message": "\"cross-origin-opener-policy\": \"same-origin\",",
            "whitespace": "  "
          },
          {
            "message": "\"cross-origin-resource-policy\": \"same-origin\",",
            "whitespace": "  "
          },
          {
            "message": "\"origin-agent-cluster\": \"?1\",",
            "whitespace": "  "
          },
          {
            "message": "\"referrer-policy\": \"no-referrer\",",
            "whitespace": "  "
          },
          {
            "message": "\"strict-transport-security\": \"max-age=31536000; includeSubDomains; preload\",",
            "whitespace": "  "
          },
          {
            "message": "\"x-content-type-options\": \"nosniff\",",
            "whitespace": "  "
          },
          {
            "message": "\"x-dns-prefetch-control\": \"off\",",
            "whitespace": "  "
          },
          {
            "message": "\"x-download-options\": \"noopen\",",
            "whitespace": "  "
          },
          {
            "message": "\"x-frame-options\": \"SAMEORIGIN\",",
            "whitespace": "  "
          },
          {
            "message": "\"x-permitted-cross-domain-policies\": \"none\",",
            "whitespace": "  "
          },
          {
            "message": "\"x-xss-protection\": \"0\",",
            "whitespace": "  "
          },
          {
            "message": "\"access-control-allow-origin\": \"*\",",
            "whitespace": "  "
          },
          {
            "message": "\"access-control-allow-credentials\": \"true\",",
            "whitespace": "  "
          },
          {
            "message": "\"content-type\": \"application/json; charset=utf-8\",",
            "whitespace": "  "
          },
          {
            "message": "\"content-length\": \"158\",",
            "whitespace": "  "
          },
          {
            "message": "\"etag\": \"W/\\\"9e-Ogrc9wEnesje3GshpCqSjXobaeE\\\"\",",
            "whitespace": "  "
          },
          {
            "message": "\"date\": \"Wed, 30 Jul 2025 17:41:18 GMT\",",
            "whitespace": "  "
          },
          {
            "message": "\"connection\": \"keep-alive\",",
            "whitespace": "  "
          },
          {
            "message": "\"keep-alive\": \"timeout=5\"",
            "whitespace": "  "
          },
          {
            "message": "}",
            "whitespace": ""
          },
          {
            "message": "Body: {",
            "whitespace": ""
          },
          {
            "message": "\"error\": \"Este email ainda não está cadastrado no sistema. Por favor, clique em \\\"Criar Conta\\\" para fazer seu cadastro primeiro.\",",
            "whitespace": "  "
          },
          {
            "message": "\"needsRegistration\": true",
            "whitespace": "  "
          },
          {
            "message": "}",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "function": "<unknown>",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 136330,
            "column": 72,
            "whitespace": "    "
          },
          {
            "function": "tryCatcher",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 1777,
            "column": 23,
            "whitespace": "    "
          },
          {
            "function": "Promise._settlePromiseFromHandler",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 1489,
            "column": 31,
            "whitespace": "    "
          },
          {
            "function": "Promise._settlePromise",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 1546,
            "column": 18,
            "whitespace": "    "
          },
          {
            "function": "Promise._settlePromise0",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 1591,
            "column": 10,
            "whitespace": "    "
          },
          {
            "function": "Promise._settlePromises",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 1671,
            "column": 18,
            "whitespace": "    "
          },
          {
            "function": "_drainQueueStep",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 2377,
            "column": 12,
            "whitespace": "    "
          },
          {
            "function": "_drainQueue",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 2370,
            "column": 9,
            "whitespace": "    "
          },
          {
            "function": "Async._drainQueues",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 2386,
            "column": 5,
            "whitespace": "    "
          },
          {
            "function": "Async.drainQueues",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 2256,
            "column": 14,
            "whitespace": "    "
          },
          {
            "message": "From Your Spec Code:",
            "whitespace": ""
          },
          {
            "function": "Context.eval",
            "fileUrl": "http://localhost:3001/__cypress/tests?p=cypress/support/e2e.js",
            "originalFile": "webpack://cvsemfrescura-backend/./cypress/support/commands.js",
            "relativeFile": "cypress/support/commands.js",
            "absoluteFile": "/workspace/backend/cypress/support/commands.js",
            "line": 13,
            "column": 5,
            "whitespace": "    "
          },
          {
            "function": "wrapped",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 141524,
            "column": 43,
            "whitespace": "    "
          }
        ],
        "codeFrame": {
          "line": 13,
          "column": 6,
          "originalFile": "cypress/support/commands.js",
          "relativeFile": "backend/cypress/support/commands.js",
          "absoluteFile": "/workspace/backend/cypress/support/commands.js",
          "frame": "  11 | // Custom command for user login\n  12 | Cypress.Commands.add('login', (email, password) => {\n> 13 |   cy.request('POST', `${Cypress.env('apiUrl')}/user/login`, {\n     |      ^\n  14 |     email: email || Cypress.env('testEmail'),\n  15 |     password: password || Cypress.env('testPassword')\n  16 |   }).then((response) => {",
          "language": "js"
        }
      }
    },
    {
      "title": "should display password reset form",
      "fullTitle": "Authentication Flow Password Reset should display password reset form",
      "file": null,
      "duration": 10294,
      "currentRetry": 0,
      "err": {
        "message": "Timed out retrying after 10000ms: Expected to find content: 'Esqueceu sua senha?' but never did.",
        "type": "existence",
        "name": "AssertionError",
        "stack": "AssertionError: Timed out retrying after 10000ms: Expected to find content: 'Esqueceu sua senha?' but never did.\n    at Context.eval (webpack://cvsemfrescura-backend/./cypress/e2e/auth.cy.js:166:9)",
        "parsedStack": [
          {
            "message": "AssertionError: Timed out retrying after 10000ms: Expected to find content: 'Esqueceu sua senha?' but never did.",
            "whitespace": ""
          },
          {
            "function": "Context.eval",
            "fileUrl": "http://localhost:3001/__cypress/tests?p=cypress/e2e/auth.cy.js",
            "originalFile": "webpack://cvsemfrescura-backend/./cypress/e2e/auth.cy.js",
            "relativeFile": "cypress/e2e/auth.cy.js",
            "absoluteFile": "/workspace/backend/cypress/e2e/auth.cy.js",
            "line": 166,
            "column": 9,
            "whitespace": "    "
          }
        ],
        "codeFrame": {
          "line": 166,
          "column": 10,
          "originalFile": "cypress/e2e/auth.cy.js",
          "relativeFile": "backend/cypress/e2e/auth.cy.js",
          "absoluteFile": "/workspace/backend/cypress/e2e/auth.cy.js",
          "frame": "  164 |\n  165 |     it('should display password reset form', () => {\n> 166 |       cy.contains('Esqueceu sua senha?').click();\n      |          ^\n  167 |       cy.get('input[name=\"email\"]').should('be.visible');\n  168 |       cy.contains('Enviar link de recuperação').should('be.visible');\n  169 |     });",
          "language": "js"
        }
      }
    },
    {
      "title": "should show validation error for empty email",
      "fullTitle": "Authentication Flow Password Reset should show validation error for empty email",
      "file": null,
      "duration": 10338,
      "currentRetry": 0,
      "err": {
        "message": "Timed out retrying after 10000ms: Expected to find content: 'Esqueceu sua senha?' but never did.",
        "type": "existence",
        "name": "AssertionError",
        "stack": "AssertionError: Timed out retrying after 10000ms: Expected to find content: 'Esqueceu sua senha?' but never did.\n    at Context.eval (webpack://cvsemfrescura-backend/./cypress/e2e/auth.cy.js:172:9)",
        "parsedStack": [
          {
            "message": "AssertionError: Timed out retrying after 10000ms: Expected to find content: 'Esqueceu sua senha?' but never did.",
            "whitespace": ""
          },
          {
            "function": "Context.eval",
            "fileUrl": "http://localhost:3001/__cypress/tests?p=cypress/e2e/auth.cy.js",
            "originalFile": "webpack://cvsemfrescura-backend/./cypress/e2e/auth.cy.js",
            "relativeFile": "cypress/e2e/auth.cy.js",
            "absoluteFile": "/workspace/backend/cypress/e2e/auth.cy.js",
            "line": 172,
            "column": 9,
            "whitespace": "    "
          }
        ],
        "codeFrame": {
          "line": 172,
          "column": 10,
          "originalFile": "cypress/e2e/auth.cy.js",
          "relativeFile": "backend/cypress/e2e/auth.cy.js",
          "absoluteFile": "/workspace/backend/cypress/e2e/auth.cy.js",
          "frame": "  170 |\n  171 |     it('should show validation error for empty email', () => {\n> 172 |       cy.contains('Esqueceu sua senha?').click();\n      |          ^\n  173 |       cy.contains('Enviar link de recuperação').click();\n  174 |       cy.contains('Email é obrigatório').should('be.visible');\n  175 |     });",
          "language": "js"
        }
      }
    },
    {
      "title": "should show validation error for invalid email",
      "fullTitle": "Authentication Flow Password Reset should show validation error for invalid email",
      "file": null,
      "duration": 10336,
      "currentRetry": 0,
      "err": {
        "message": "Timed out retrying after 10000ms: Expected to find content: 'Esqueceu sua senha?' but never did.",
        "type": "existence",
        "name": "AssertionError",
        "stack": "AssertionError: Timed out retrying after 10000ms: Expected to find content: 'Esqueceu sua senha?' but never did.\n    at Context.eval (webpack://cvsemfrescura-backend/./cypress/e2e/auth.cy.js:178:9)",
        "parsedStack": [
          {
            "message": "AssertionError: Timed out retrying after 10000ms: Expected to find content: 'Esqueceu sua senha?' but never did.",
            "whitespace": ""
          },
          {
            "function": "Context.eval",
            "fileUrl": "http://localhost:3001/__cypress/tests?p=cypress/e2e/auth.cy.js",
            "originalFile": "webpack://cvsemfrescura-backend/./cypress/e2e/auth.cy.js",
            "relativeFile": "cypress/e2e/auth.cy.js",
            "absoluteFile": "/workspace/backend/cypress/e2e/auth.cy.js",
            "line": 178,
            "column": 9,
            "whitespace": "    "
          }
        ],
        "codeFrame": {
          "line": 178,
          "column": 10,
          "originalFile": "cypress/e2e/auth.cy.js",
          "relativeFile": "backend/cypress/e2e/auth.cy.js",
          "absoluteFile": "/workspace/backend/cypress/e2e/auth.cy.js",
          "frame": "  176 |\n  177 |     it('should show validation error for invalid email', () => {\n> 178 |       cy.contains('Esqueceu sua senha?').click();\n      |          ^\n  179 |       cy.get('input[name=\"email\"]').type('invalid-email');\n  180 |       cy.contains('Enviar link de recuperação').click();\n  181 |       cy.contains('Email inválido').should('be.visible');",
          "language": "js"
        }
      }
    },
    {
      "title": "should successfully request password reset",
      "fullTitle": "Authentication Flow Password Reset should successfully request password reset",
      "file": null,
      "duration": 10322,
      "currentRetry": 0,
      "err": {
        "message": "Timed out retrying after 10000ms: Expected to find content: 'Esqueceu sua senha?' but never did.",
        "type": "existence",
        "name": "AssertionError",
        "stack": "AssertionError: Timed out retrying after 10000ms: Expected to find content: 'Esqueceu sua senha?' but never did.\n    at Context.eval (webpack://cvsemfrescura-backend/./cypress/e2e/auth.cy.js:185:9)",
        "parsedStack": [
          {
            "message": "AssertionError: Timed out retrying after 10000ms: Expected to find content: 'Esqueceu sua senha?' but never did.",
            "whitespace": ""
          },
          {
            "function": "Context.eval",
            "fileUrl": "http://localhost:3001/__cypress/tests?p=cypress/e2e/auth.cy.js",
            "originalFile": "webpack://cvsemfrescura-backend/./cypress/e2e/auth.cy.js",
            "relativeFile": "cypress/e2e/auth.cy.js",
            "absoluteFile": "/workspace/backend/cypress/e2e/auth.cy.js",
            "line": 185,
            "column": 9,
            "whitespace": "    "
          }
        ],
        "codeFrame": {
          "line": 185,
          "column": 10,
          "originalFile": "cypress/e2e/auth.cy.js",
          "relativeFile": "backend/cypress/e2e/auth.cy.js",
          "absoluteFile": "/workspace/backend/cypress/e2e/auth.cy.js",
          "frame": "  183 |\n  184 |     it('should successfully request password reset', () => {\n> 185 |       cy.contains('Esqueceu sua senha?').click();\n      |          ^\n  186 |       cy.get('input[name=\"email\"]').type(Cypress.env('testEmail'));\n  187 |       cy.contains('Enviar link de recuperação').click();\n  188 |       ",
          "language": "js"
        }
      }
    },
    {
      "title": "should show error for non-existent email",
      "fullTitle": "Authentication Flow Password Reset should show error for non-existent email",
      "file": null,
      "duration": 10327,
      "currentRetry": 0,
      "err": {
        "message": "Timed out retrying after 10000ms: Expected to find content: 'Esqueceu sua senha?' but never did.",
        "type": "existence",
        "name": "AssertionError",
        "stack": "AssertionError: Timed out retrying after 10000ms: Expected to find content: 'Esqueceu sua senha?' but never did.\n    at Context.eval (webpack://cvsemfrescura-backend/./cypress/e2e/auth.cy.js:193:9)",
        "parsedStack": [
          {
            "message": "AssertionError: Timed out retrying after 10000ms: Expected to find content: 'Esqueceu sua senha?' but never did.",
            "whitespace": ""
          },
          {
            "function": "Context.eval",
            "fileUrl": "http://localhost:3001/__cypress/tests?p=cypress/e2e/auth.cy.js",
            "originalFile": "webpack://cvsemfrescura-backend/./cypress/e2e/auth.cy.js",
            "relativeFile": "cypress/e2e/auth.cy.js",
            "absoluteFile": "/workspace/backend/cypress/e2e/auth.cy.js",
            "line": 193,
            "column": 9,
            "whitespace": "    "
          }
        ],
        "codeFrame": {
          "line": 193,
          "column": 10,
          "originalFile": "cypress/e2e/auth.cy.js",
          "relativeFile": "backend/cypress/e2e/auth.cy.js",
          "absoluteFile": "/workspace/backend/cypress/e2e/auth.cy.js",
          "frame": "  191 |\n  192 |     it('should show error for non-existent email', () => {\n> 193 |       cy.contains('Esqueceu sua senha?').click();\n      |          ^\n  194 |       cy.get('input[name=\"email\"]').type('nonexistent@example.com');\n  195 |       cy.contains('Enviar link de recuperação').click();\n  196 |       ",
          "language": "js"
        }
      }
    },
    {
      "title": "should maintain session on page refresh",
      "fullTitle": "Authentication Flow Session Management should maintain session on page refresh",
      "file": null,
      "duration": 140,
      "currentRetry": 0,
      "err": {
        "message": "`cy.request()` failed on:\n\nhttp://localhost:3001/api/user/login\n\nThe response we received from your web server was:\n\n  > 400: Bad Request\n\nThis was considered a failure because the status code was not `2xx` or `3xx`.\n\nIf you do not want status codes to cause failures pass the option: `failOnStatusCode: false`\n\n-----------------------------------------------------------\n\nThe request we sent was:\n\nMethod: POST\nURL: http://localhost:3001/api/user/login\nHeaders: {\n  \"Connection\": \"keep-alive\",\n  \"user-agent\": \"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Cypress/14.5.3 Chrome/130.0.6723.137 Electron/33.2.1 Safari/537.36\",\n  \"accept\": \"*/*\",\n  \"accept-encoding\": \"gzip, deflate\",\n  \"content-type\": \"application/json\",\n  \"content-length\": 52\n}\nBody: {\"email\":\"test@example.com\",\"password\":\"Test123!@#\"}\n\n-----------------------------------------------------------\n\nThe response we got was:\n\nStatus: 400 - Bad Request\nHeaders: {\n  \"content-security-policy\": \"default-src 'self';style-src 'self' 'unsafe-inline';script-src 'self' 'unsafe-inline' https://js.stripe.com;img-src 'self' data: https:;connect-src 'self' https://api.openai.com https://api.stripe.com;font-src 'self' https://fonts.gstatic.com;object-src 'none';upgrade-insecure-requests;base-uri 'self';form-action 'self';frame-ancestors 'self';script-src-attr 'none'\",\n  \"cross-origin-opener-policy\": \"same-origin\",\n  \"cross-origin-resource-policy\": \"same-origin\",\n  \"origin-agent-cluster\": \"?1\",\n  \"referrer-policy\": \"no-referrer\",\n  \"strict-transport-security\": \"max-age=31536000; includeSubDomains; preload\",\n  \"x-content-type-options\": \"nosniff\",\n  \"x-dns-prefetch-control\": \"off\",\n  \"x-download-options\": \"noopen\",\n  \"x-frame-options\": \"SAMEORIGIN\",\n  \"x-permitted-cross-domain-policies\": \"none\",\n  \"x-xss-protection\": \"0\",\n  \"access-control-allow-origin\": \"*\",\n  \"access-control-allow-credentials\": \"true\",\n  \"content-type\": \"application/json; charset=utf-8\",\n  \"content-length\": \"158\",\n  \"etag\": \"W/\\\"9e-Ogrc9wEnesje3GshpCqSjXobaeE\\\"\",\n  \"date\": \"Wed, 30 Jul 2025 17:42:10 GMT\",\n  \"connection\": \"keep-alive\",\n  \"keep-alive\": \"timeout=5\"\n}\nBody: {\n  \"error\": \"Este email ainda não está cadastrado no sistema. Por favor, clique em \\\"Criar Conta\\\" para fazer seu cadastro primeiro.\",\n  \"needsRegistration\": true\n}\n\n\nhttps://on.cypress.io/request\n\nBecause this error occurred during a `before each` hook we are skipping the remaining tests in the current suite: `Session Management`",
        "name": "CypressError",
        "stack": "CypressError: `cy.request()` failed on:\n\nhttp://localhost:3001/api/user/login\n\nThe response we received from your web server was:\n\n  > 400: Bad Request\n\nThis was considered a failure because the status code was not `2xx` or `3xx`.\n\nIf you do not want status codes to cause failures pass the option: `failOnStatusCode: false`\n\n-----------------------------------------------------------\n\nThe request we sent was:\n\nMethod: POST\nURL: http://localhost:3001/api/user/login\nHeaders: {\n  \"Connection\": \"keep-alive\",\n  \"user-agent\": \"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Cypress/14.5.3 Chrome/130.0.6723.137 Electron/33.2.1 Safari/537.36\",\n  \"accept\": \"*/*\",\n  \"accept-encoding\": \"gzip, deflate\",\n  \"content-type\": \"application/json\",\n  \"content-length\": 52\n}\nBody: {\"email\":\"test@example.com\",\"password\":\"Test123!@#\"}\n\n-----------------------------------------------------------\n\nThe response we got was:\n\nStatus: 400 - Bad Request\nHeaders: {\n  \"content-security-policy\": \"default-src 'self';style-src 'self' 'unsafe-inline';script-src 'self' 'unsafe-inline' https://js.stripe.com;img-src 'self' data: https:;connect-src 'self' https://api.openai.com https://api.stripe.com;font-src 'self' https://fonts.gstatic.com;object-src 'none';upgrade-insecure-requests;base-uri 'self';form-action 'self';frame-ancestors 'self';script-src-attr 'none'\",\n  \"cross-origin-opener-policy\": \"same-origin\",\n  \"cross-origin-resource-policy\": \"same-origin\",\n  \"origin-agent-cluster\": \"?1\",\n  \"referrer-policy\": \"no-referrer\",\n  \"strict-transport-security\": \"max-age=31536000; includeSubDomains; preload\",\n  \"x-content-type-options\": \"nosniff\",\n  \"x-dns-prefetch-control\": \"off\",\n  \"x-download-options\": \"noopen\",\n  \"x-frame-options\": \"SAMEORIGIN\",\n  \"x-permitted-cross-domain-policies\": \"none\",\n  \"x-xss-protection\": \"0\",\n  \"access-control-allow-origin\": \"*\",\n  \"access-control-allow-credentials\": \"true\",\n  \"content-type\": \"application/json; charset=utf-8\",\n  \"content-length\": \"158\",\n  \"etag\": \"W/\\\"9e-Ogrc9wEnesje3GshpCqSjXobaeE\\\"\",\n  \"date\": \"Wed, 30 Jul 2025 17:42:10 GMT\",\n  \"connection\": \"keep-alive\",\n  \"keep-alive\": \"timeout=5\"\n}\nBody: {\n  \"error\": \"Este email ainda não está cadastrado no sistema. Por favor, clique em \\\"Criar Conta\\\" para fazer seu cadastro primeiro.\",\n  \"needsRegistration\": true\n}\n\n\nhttps://on.cypress.io/request\n\nBecause this error occurred during a `before each` hook we are skipping the remaining tests in the current suite: `Session Management`\n    at <unknown> (http://localhost:3001/__cypress/runner/cypress_runner.js:136330:72)\n    at tryCatcher (http://localhost:3001/__cypress/runner/cypress_runner.js:1777:23)\n    at Promise._settlePromiseFromHandler (http://localhost:3001/__cypress/runner/cypress_runner.js:1489:31)\n    at Promise._settlePromise (http://localhost:3001/__cypress/runner/cypress_runner.js:1546:18)\n    at Promise._settlePromise0 (http://localhost:3001/__cypress/runner/cypress_runner.js:1591:10)\n    at Promise._settlePromises (http://localhost:3001/__cypress/runner/cypress_runner.js:1671:18)\n    at _drainQueueStep (http://localhost:3001/__cypress/runner/cypress_runner.js:2377:12)\n    at _drainQueue (http://localhost:3001/__cypress/runner/cypress_runner.js:2370:9)\n    at Async._drainQueues (http://localhost:3001/__cypress/runner/cypress_runner.js:2386:5)\n    at Async.drainQueues (http://localhost:3001/__cypress/runner/cypress_runner.js:2256:14)\nFrom Your Spec Code:\n    at Context.eval (webpack://cvsemfrescura-backend/./cypress/support/commands.js:13:5)\n    at wrapped (http://localhost:3001/__cypress/runner/cypress_runner.js:141524:43)",
        "parsedStack": [
          {
            "message": "CypressError: `cy.request()` failed on:",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "http://localhost:3001/api/user/login",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "The response we received from your web server was:",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "> 400: Bad Request",
            "whitespace": "  "
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "This was considered a failure because the status code was not `2xx` or `3xx`.",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "If you do not want status codes to cause failures pass the option: `failOnStatusCode: false`",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "-----------------------------------------------------------",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "The request we sent was:",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "Method: POST",
            "whitespace": ""
          },
          {
            "message": "URL: http://localhost:3001/api/user/login",
            "whitespace": ""
          },
          {
            "message": "Headers: {",
            "whitespace": ""
          },
          {
            "message": "\"Connection\": \"keep-alive\",",
            "whitespace": "  "
          },
          {
            "message": "\"user-agent\": \"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Cypress/14.5.3 Chrome/130.0.6723.137 Electron/33.2.1 Safari/537.36\",",
            "whitespace": "  "
          },
          {
            "message": "\"accept\": \"*/*\",",
            "whitespace": "  "
          },
          {
            "message": "\"accept-encoding\": \"gzip, deflate\",",
            "whitespace": "  "
          },
          {
            "message": "\"content-type\": \"application/json\",",
            "whitespace": "  "
          },
          {
            "message": "\"content-length\": 52",
            "whitespace": "  "
          },
          {
            "message": "}",
            "whitespace": ""
          },
          {
            "message": "Body: {\"email\":\"test@example.com\",\"password\":\"Test123!@#\"}",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "-----------------------------------------------------------",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "The response we got was:",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "Status: 400 - Bad Request",
            "whitespace": ""
          },
          {
            "message": "Headers: {",
            "whitespace": ""
          },
          {
            "message": "\"content-security-policy\": \"default-src 'self';style-src 'self' 'unsafe-inline';script-src 'self' 'unsafe-inline' https://js.stripe.com;img-src 'self' data: https:;connect-src 'self' https://api.openai.com https://api.stripe.com;font-src 'self' https://fonts.gstatic.com;object-src 'none';upgrade-insecure-requests;base-uri 'self';form-action 'self';frame-ancestors 'self';script-src-attr 'none'\",",
            "whitespace": "  "
          },
          {
            "message": "\"cross-origin-opener-policy\": \"same-origin\",",
            "whitespace": "  "
          },
          {
            "message": "\"cross-origin-resource-policy\": \"same-origin\",",
            "whitespace": "  "
          },
          {
            "message": "\"origin-agent-cluster\": \"?1\",",
            "whitespace": "  "
          },
          {
            "message": "\"referrer-policy\": \"no-referrer\",",
            "whitespace": "  "
          },
          {
            "message": "\"strict-transport-security\": \"max-age=31536000; includeSubDomains; preload\",",
            "whitespace": "  "
          },
          {
            "message": "\"x-content-type-options\": \"nosniff\",",
            "whitespace": "  "
          },
          {
            "message": "\"x-dns-prefetch-control\": \"off\",",
            "whitespace": "  "
          },
          {
            "message": "\"x-download-options\": \"noopen\",",
            "whitespace": "  "
          },
          {
            "message": "\"x-frame-options\": \"SAMEORIGIN\",",
            "whitespace": "  "
          },
          {
            "message": "\"x-permitted-cross-domain-policies\": \"none\",",
            "whitespace": "  "
          },
          {
            "message": "\"x-xss-protection\": \"0\",",
            "whitespace": "  "
          },
          {
            "message": "\"access-control-allow-origin\": \"*\",",
            "whitespace": "  "
          },
          {
            "message": "\"access-control-allow-credentials\": \"true\",",
            "whitespace": "  "
          },
          {
            "message": "\"content-type\": \"application/json; charset=utf-8\",",
            "whitespace": "  "
          },
          {
            "message": "\"content-length\": \"158\",",
            "whitespace": "  "
          },
          {
            "message": "\"etag\": \"W/\\\"9e-Ogrc9wEnesje3GshpCqSjXobaeE\\\"\",",
            "whitespace": "  "
          },
          {
            "message": "\"date\": \"Wed, 30 Jul 2025 17:42:10 GMT\",",
            "whitespace": "  "
          },
          {
            "message": "\"connection\": \"keep-alive\",",
            "whitespace": "  "
          },
          {
            "message": "\"keep-alive\": \"timeout=5\"",
            "whitespace": "  "
          },
          {
            "message": "}",
            "whitespace": ""
          },
          {
            "message": "Body: {",
            "whitespace": ""
          },
          {
            "message": "\"error\": \"Este email ainda não está cadastrado no sistema. Por favor, clique em \\\"Criar Conta\\\" para fazer seu cadastro primeiro.\",",
            "whitespace": "  "
          },
          {
            "message": "\"needsRegistration\": true",
            "whitespace": "  "
          },
          {
            "message": "}",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "function": "<unknown>",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 136330,
            "column": 72,
            "whitespace": "    "
          },
          {
            "function": "tryCatcher",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 1777,
            "column": 23,
            "whitespace": "    "
          },
          {
            "function": "Promise._settlePromiseFromHandler",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 1489,
            "column": 31,
            "whitespace": "    "
          },
          {
            "function": "Promise._settlePromise",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 1546,
            "column": 18,
            "whitespace": "    "
          },
          {
            "function": "Promise._settlePromise0",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 1591,
            "column": 10,
            "whitespace": "    "
          },
          {
            "function": "Promise._settlePromises",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 1671,
            "column": 18,
            "whitespace": "    "
          },
          {
            "function": "_drainQueueStep",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 2377,
            "column": 12,
            "whitespace": "    "
          },
          {
            "function": "_drainQueue",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 2370,
            "column": 9,
            "whitespace": "    "
          },
          {
            "function": "Async._drainQueues",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 2386,
            "column": 5,
            "whitespace": "    "
          },
          {
            "function": "Async.drainQueues",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 2256,
            "column": 14,
            "whitespace": "    "
          },
          {
            "message": "From Your Spec Code:",
            "whitespace": ""
          },
          {
            "function": "Context.eval",
            "fileUrl": "http://localhost:3001/__cypress/tests?p=cypress/support/e2e.js",
            "originalFile": "webpack://cvsemfrescura-backend/./cypress/support/commands.js",
            "relativeFile": "cypress/support/commands.js",
            "absoluteFile": "/workspace/backend/cypress/support/commands.js",
            "line": 13,
            "column": 5,
            "whitespace": "    "
          },
          {
            "function": "wrapped",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 141524,
            "column": 43,
            "whitespace": "    "
          }
        ],
        "codeFrame": {
          "line": 13,
          "column": 6,
          "originalFile": "cypress/support/commands.js",
          "relativeFile": "backend/cypress/support/commands.js",
          "absoluteFile": "/workspace/backend/cypress/support/commands.js",
          "frame": "  11 | // Custom command for user login\n  12 | Cypress.Commands.add('login', (email, password) => {\n> 13 |   cy.request('POST', `${Cypress.env('apiUrl')}/user/login`, {\n     |      ^\n  14 |     email: email || Cypress.env('testEmail'),\n  15 |     password: password || Cypress.env('testPassword')\n  16 |   }).then((response) => {",
          "language": "js"
        }
      }
    }
  ],
  "pending": [],
  "failures": [
    {
      "title": "should display login form with option to register",
      "fullTitle": "Authentication Flow User Registration through Login Page should display login form with option to register",
      "file": null,
      "currentRetry": 0,
      "err": {
        "message": "Timed out retrying after 10000ms: Expected to find content: 'Não tem uma conta?' but never did.",
        "type": "existence",
        "name": "AssertionError",
        "stack": "AssertionError: Timed out retrying after 10000ms: Expected to find content: 'Não tem uma conta?' but never did.\n    at Context.eval (webpack://cvsemfrescura-backend/./cypress/e2e/auth.cy.js:16:40)",
        "parsedStack": [
          {
            "message": "AssertionError: Timed out retrying after 10000ms: Expected to find content: 'Não tem uma conta?' but never did.",
            "whitespace": ""
          },
          {
            "function": "Context.eval",
            "fileUrl": "http://localhost:3001/__cypress/tests?p=cypress/e2e/auth.cy.js",
            "originalFile": "webpack://cvsemfrescura-backend/./cypress/e2e/auth.cy.js",
            "relativeFile": "cypress/e2e/auth.cy.js",
            "absoluteFile": "/workspace/backend/cypress/e2e/auth.cy.js",
            "line": 16,
            "column": 40,
            "whitespace": "    "
          }
        ],
        "codeFrame": {
          "line": 16,
          "column": 41,
          "originalFile": "cypress/e2e/auth.cy.js",
          "relativeFile": "backend/cypress/e2e/auth.cy.js",
          "absoluteFile": "/workspace/backend/cypress/e2e/auth.cy.js",
          "frame": "  14 |     it('should display login form with option to register', () => {\n  15 |       cy.get('form').should('be.visible');\n> 16 |       cy.contains('Não tem uma conta?').should('be.visible');\n     |                                         ^\n  17 |       cy.contains('Cadastre-se').should('be.visible');\n  18 |     });\n  19 |",
          "language": "js"
        }
      }
    },
    {
      "title": "should switch to registration form when clicking register",
      "fullTitle": "Authentication Flow User Registration through Login Page should switch to registration form when clicking register",
      "file": null,
      "currentRetry": 0,
      "err": {
        "message": "Timed out retrying after 10000ms: Expected to find element: `input[name=\"name\"]`, but never found it.",
        "type": "existence",
        "name": "AssertionError",
        "stack": "AssertionError: Timed out retrying after 10000ms: Expected to find element: `input[name=\"name\"]`, but never found it.\n    at Context.eval (webpack://cvsemfrescura-backend/./cypress/e2e/auth.cy.js:22:35)",
        "parsedStack": [
          {
            "message": "AssertionError: Timed out retrying after 10000ms: Expected to find element: `input[name=\"name\"]`, but never found it.",
            "whitespace": ""
          },
          {
            "function": "Context.eval",
            "fileUrl": "http://localhost:3001/__cypress/tests?p=cypress/e2e/auth.cy.js",
            "originalFile": "webpack://cvsemfrescura-backend/./cypress/e2e/auth.cy.js",
            "relativeFile": "cypress/e2e/auth.cy.js",
            "absoluteFile": "/workspace/backend/cypress/e2e/auth.cy.js",
            "line": 22,
            "column": 35,
            "whitespace": "    "
          }
        ],
        "codeFrame": {
          "line": 22,
          "column": 36,
          "originalFile": "cypress/e2e/auth.cy.js",
          "relativeFile": "backend/cypress/e2e/auth.cy.js",
          "absoluteFile": "/workspace/backend/cypress/e2e/auth.cy.js",
          "frame": "  20 |     it('should switch to registration form when clicking register', () => {\n  21 |       cy.contains('Cadastre-se').click();\n> 22 |       cy.get('input[name=\"name\"]').should('be.visible');\n     |                                    ^\n  23 |       cy.get('input[name=\"email\"]').should('be.visible');\n  24 |       cy.get('input[name=\"password\"]').should('be.visible');\n  25 |       cy.get('input[name=\"phone\"]').should('be.visible');",
          "language": "js"
        }
      }
    },
    {
      "title": "should show validation errors for empty fields",
      "fullTitle": "Authentication Flow User Registration through Login Page should show validation errors for empty fields",
      "file": null,
      "currentRetry": 0,
      "err": {
        "message": "`cy.click()` can only be called on a single element. Your subject contained 2 elements. Pass `{ multiple: true }` if you want to serially click each element.\n\nhttps://on.cypress.io/click",
        "name": "CypressError",
        "stack": "CypressError: `cy.click()` can only be called on a single element. Your subject contained 2 elements. Pass `{ multiple: true }` if you want to serially click each element.\n\nhttps://on.cypress.io/click\n    at mouseAction (http://localhost:3001/__cypress/runner/cypress_runner.js:113980:68)\n    at Context.click (http://localhost:3001/__cypress/runner/cypress_runner.js:114147:14)\n    at wrapped (http://localhost:3001/__cypress/runner/cypress_runner.js:141532:19)\nFrom Your Spec Code:\n    at Context.eval (webpack://cvsemfrescura-backend/./cypress/e2e/auth.cy.js:30:38)",
        "parsedStack": [
          {
            "message": "CypressError: `cy.click()` can only be called on a single element. Your subject contained 2 elements. Pass `{ multiple: true }` if you want to serially click each element.",
            "whitespace": ""
          },
          {
            "function": "mouseAction",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 113980,
            "column": 68,
            "whitespace": "    "
          },
          {
            "function": "Context.click",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 114147,
            "column": 14,
            "whitespace": "    "
          },
          {
            "function": "wrapped",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 141532,
            "column": 19,
            "whitespace": "    "
          },
          {
            "message": "From Your Spec Code:",
            "whitespace": ""
          },
          {
            "function": "Context.eval",
            "fileUrl": "http://localhost:3001/__cypress/tests?p=cypress/e2e/auth.cy.js",
            "originalFile": "webpack://cvsemfrescura-backend/./cypress/e2e/auth.cy.js",
            "relativeFile": "cypress/e2e/auth.cy.js",
            "absoluteFile": "/workspace/backend/cypress/e2e/auth.cy.js",
            "line": 30,
            "column": 38,
            "whitespace": "    "
          }
        ],
        "codeFrame": {
          "line": 30,
          "column": 39,
          "originalFile": "cypress/e2e/auth.cy.js",
          "relativeFile": "backend/cypress/e2e/auth.cy.js",
          "absoluteFile": "/workspace/backend/cypress/e2e/auth.cy.js",
          "frame": "  28 |     it('should show validation errors for empty fields', () => {\n  29 |       cy.contains('Cadastre-se').click();\n> 30 |       cy.get('button[type=\"submit\"]').click();\n     |                                       ^\n  31 |       cy.contains('obrigatório').should('be.visible');\n  32 |     });\n  33 |",
          "language": "js"
        }
      }
    },
    {
      "title": "should show validation error for invalid email",
      "fullTitle": "Authentication Flow User Registration through Login Page should show validation error for invalid email",
      "file": null,
      "currentRetry": 0,
      "err": {
        "message": "Timed out retrying after 10000ms: Expected to find element: `input[name=\"email\"]`, but never found it.",
        "type": "existence",
        "name": "AssertionError",
        "stack": "AssertionError: Timed out retrying after 10000ms: Expected to find element: `input[name=\"email\"]`, but never found it.\n    at Context.eval (webpack://cvsemfrescura-backend/./cypress/e2e/auth.cy.js:36:9)",
        "parsedStack": [
          {
            "message": "AssertionError: Timed out retrying after 10000ms: Expected to find element: `input[name=\"email\"]`, but never found it.",
            "whitespace": ""
          },
          {
            "function": "Context.eval",
            "fileUrl": "http://localhost:3001/__cypress/tests?p=cypress/e2e/auth.cy.js",
            "originalFile": "webpack://cvsemfrescura-backend/./cypress/e2e/auth.cy.js",
            "relativeFile": "cypress/e2e/auth.cy.js",
            "absoluteFile": "/workspace/backend/cypress/e2e/auth.cy.js",
            "line": 36,
            "column": 9,
            "whitespace": "    "
          }
        ],
        "codeFrame": {
          "line": 36,
          "column": 10,
          "originalFile": "cypress/e2e/auth.cy.js",
          "relativeFile": "backend/cypress/e2e/auth.cy.js",
          "absoluteFile": "/workspace/backend/cypress/e2e/auth.cy.js",
          "frame": "  34 |     it('should show validation error for invalid email', () => {\n  35 |       cy.contains('Cadastre-se').click();\n> 36 |       cy.get('input[name=\"email\"]').type('invalid-email');\n     |          ^\n  37 |       cy.get('button[type=\"submit\"]').click();\n  38 |       cy.contains('inválido').should('be.visible');\n  39 |     });",
          "language": "js"
        }
      }
    },
    {
      "title": "should show validation error for weak password",
      "fullTitle": "Authentication Flow User Registration through Login Page should show validation error for weak password",
      "file": null,
      "currentRetry": 0,
      "err": {
        "message": "Timed out retrying after 10000ms: Expected to find element: `input[name=\"password\"]`, but never found it.",
        "type": "existence",
        "name": "AssertionError",
        "stack": "AssertionError: Timed out retrying after 10000ms: Expected to find element: `input[name=\"password\"]`, but never found it.\n    at Context.eval (webpack://cvsemfrescura-backend/./cypress/e2e/auth.cy.js:43:9)",
        "parsedStack": [
          {
            "message": "AssertionError: Timed out retrying after 10000ms: Expected to find element: `input[name=\"password\"]`, but never found it.",
            "whitespace": ""
          },
          {
            "function": "Context.eval",
            "fileUrl": "http://localhost:3001/__cypress/tests?p=cypress/e2e/auth.cy.js",
            "originalFile": "webpack://cvsemfrescura-backend/./cypress/e2e/auth.cy.js",
            "relativeFile": "cypress/e2e/auth.cy.js",
            "absoluteFile": "/workspace/backend/cypress/e2e/auth.cy.js",
            "line": 43,
            "column": 9,
            "whitespace": "    "
          }
        ],
        "codeFrame": {
          "line": 43,
          "column": 10,
          "originalFile": "cypress/e2e/auth.cy.js",
          "relativeFile": "backend/cypress/e2e/auth.cy.js",
          "absoluteFile": "/workspace/backend/cypress/e2e/auth.cy.js",
          "frame": "  41 |     it('should show validation error for weak password', () => {\n  42 |       cy.contains('Cadastre-se').click();\n> 43 |       cy.get('input[name=\"password\"]').type('weak');\n     |          ^\n  44 |       cy.get('button[type=\"submit\"]').click();\n  45 |       cy.contains('Senha deve ter pelo menos').should('be.visible');\n  46 |     });",
          "language": "js"
        }
      }
    },
    {
      "title": "should successfully register a new user",
      "fullTitle": "Authentication Flow User Registration through Login Page should successfully register a new user",
      "file": null,
      "currentRetry": 0,
      "err": {
        "message": "Timed out retrying after 10000ms: Expected to find element: `input[name=\"name\"]`, but never found it.",
        "type": "existence",
        "name": "AssertionError",
        "stack": "AssertionError: Timed out retrying after 10000ms: Expected to find element: `input[name=\"name\"]`, but never found it.\n    at Context.eval (webpack://cvsemfrescura-backend/./cypress/e2e/auth.cy.js:50:9)",
        "parsedStack": [
          {
            "message": "AssertionError: Timed out retrying after 10000ms: Expected to find element: `input[name=\"name\"]`, but never found it.",
            "whitespace": ""
          },
          {
            "function": "Context.eval",
            "fileUrl": "http://localhost:3001/__cypress/tests?p=cypress/e2e/auth.cy.js",
            "originalFile": "webpack://cvsemfrescura-backend/./cypress/e2e/auth.cy.js",
            "relativeFile": "cypress/e2e/auth.cy.js",
            "absoluteFile": "/workspace/backend/cypress/e2e/auth.cy.js",
            "line": 50,
            "column": 9,
            "whitespace": "    "
          }
        ],
        "codeFrame": {
          "line": 50,
          "column": 10,
          "originalFile": "cypress/e2e/auth.cy.js",
          "relativeFile": "backend/cypress/e2e/auth.cy.js",
          "absoluteFile": "/workspace/backend/cypress/e2e/auth.cy.js",
          "frame": "  48 |     it('should successfully register a new user', () => {\n  49 |       cy.contains('Cadastre-se').click();\n> 50 |       cy.get('input[name=\"name\"]').type(testUser.name);\n     |          ^\n  51 |       cy.get('input[name=\"email\"]').type(testUser.email);\n  52 |       cy.get('input[name=\"password\"]').type(testUser.password);\n  53 |       cy.get('input[name=\"phone\"]').type(testUser.phone);",
          "language": "js"
        }
      }
    },
    {
      "title": "should show error for duplicate email",
      "fullTitle": "Authentication Flow User Registration through Login Page should show error for duplicate email",
      "file": null,
      "currentRetry": 0,
      "err": {
        "message": "Timed out retrying after 10000ms: Expected to find element: `input[name=\"name\"]`, but never found it.",
        "type": "existence",
        "name": "AssertionError",
        "stack": "AssertionError: Timed out retrying after 10000ms: Expected to find element: `input[name=\"name\"]`, but never found it.\n    at Context.eval (webpack://cvsemfrescura-backend/./cypress/e2e/auth.cy.js:68:9)",
        "parsedStack": [
          {
            "message": "AssertionError: Timed out retrying after 10000ms: Expected to find element: `input[name=\"name\"]`, but never found it.",
            "whitespace": ""
          },
          {
            "function": "Context.eval",
            "fileUrl": "http://localhost:3001/__cypress/tests?p=cypress/e2e/auth.cy.js",
            "originalFile": "webpack://cvsemfrescura-backend/./cypress/e2e/auth.cy.js",
            "relativeFile": "cypress/e2e/auth.cy.js",
            "absoluteFile": "/workspace/backend/cypress/e2e/auth.cy.js",
            "line": 68,
            "column": 9,
            "whitespace": "    "
          }
        ],
        "codeFrame": {
          "line": 68,
          "column": 10,
          "originalFile": "cypress/e2e/auth.cy.js",
          "relativeFile": "backend/cypress/e2e/auth.cy.js",
          "absoluteFile": "/workspace/backend/cypress/e2e/auth.cy.js",
          "frame": "  66 |       cy.visit('/analisar.html?login=true');\n  67 |       cy.contains('Cadastre-se').click();\n> 68 |       cy.get('input[name=\"name\"]').type(testUser.name);\n     |          ^\n  69 |       cy.get('input[name=\"email\"]').type(testUser.email);\n  70 |       cy.get('input[name=\"password\"]').type(testUser.password);\n  71 |       cy.get('input[name=\"phone\"]').type(testUser.phone);",
          "language": "js"
        }
      }
    },
    {
      "title": "should display login form",
      "fullTitle": "Authentication Flow User Login should display login form",
      "file": null,
      "currentRetry": 0,
      "err": {
        "message": "Timed out retrying after 10000ms: Expected to find element: `input[name=\"email\"]`, but never found it.",
        "type": "existence",
        "name": "AssertionError",
        "stack": "AssertionError: Timed out retrying after 10000ms: Expected to find element: `input[name=\"email\"]`, but never found it.\n    at Context.eval (webpack://cvsemfrescura-backend/./cypress/e2e/auth.cy.js:87:36)",
        "parsedStack": [
          {
            "message": "AssertionError: Timed out retrying after 10000ms: Expected to find element: `input[name=\"email\"]`, but never found it.",
            "whitespace": ""
          },
          {
            "function": "Context.eval",
            "fileUrl": "http://localhost:3001/__cypress/tests?p=cypress/e2e/auth.cy.js",
            "originalFile": "webpack://cvsemfrescura-backend/./cypress/e2e/auth.cy.js",
            "relativeFile": "cypress/e2e/auth.cy.js",
            "absoluteFile": "/workspace/backend/cypress/e2e/auth.cy.js",
            "line": 87,
            "column": 36,
            "whitespace": "    "
          }
        ],
        "codeFrame": {
          "line": 87,
          "column": 37,
          "originalFile": "cypress/e2e/auth.cy.js",
          "relativeFile": "backend/cypress/e2e/auth.cy.js",
          "absoluteFile": "/workspace/backend/cypress/e2e/auth.cy.js",
          "frame": "  85 |     it('should display login form', () => {\n  86 |       cy.get('form').should('be.visible');\n> 87 |       cy.get('input[name=\"email\"]').should('be.visible');\n     |                                     ^\n  88 |       cy.get('input[name=\"password\"]').should('be.visible');\n  89 |       cy.get('button[type=\"submit\"]').should('be.visible');\n  90 |     });",
          "language": "js"
        }
      }
    },
    {
      "title": "should show error for invalid credentials",
      "fullTitle": "Authentication Flow User Login should show error for invalid credentials",
      "file": null,
      "currentRetry": 0,
      "err": {
        "message": "Timed out retrying after 10000ms: Expected to find element: `input[name=\"email\"]`, but never found it.",
        "type": "existence",
        "name": "AssertionError",
        "stack": "AssertionError: Timed out retrying after 10000ms: Expected to find element: `input[name=\"email\"]`, but never found it.\n    at Context.eval (webpack://cvsemfrescura-backend/./cypress/e2e/auth.cy.js:93:9)",
        "parsedStack": [
          {
            "message": "AssertionError: Timed out retrying after 10000ms: Expected to find element: `input[name=\"email\"]`, but never found it.",
            "whitespace": ""
          },
          {
            "function": "Context.eval",
            "fileUrl": "http://localhost:3001/__cypress/tests?p=cypress/e2e/auth.cy.js",
            "originalFile": "webpack://cvsemfrescura-backend/./cypress/e2e/auth.cy.js",
            "relativeFile": "cypress/e2e/auth.cy.js",
            "absoluteFile": "/workspace/backend/cypress/e2e/auth.cy.js",
            "line": 93,
            "column": 9,
            "whitespace": "    "
          }
        ],
        "codeFrame": {
          "line": 93,
          "column": 10,
          "originalFile": "cypress/e2e/auth.cy.js",
          "relativeFile": "backend/cypress/e2e/auth.cy.js",
          "absoluteFile": "/workspace/backend/cypress/e2e/auth.cy.js",
          "frame": "  91 |\n  92 |     it('should show error for invalid credentials', () => {\n> 93 |       cy.get('input[name=\"email\"]').type('wrong@example.com');\n     |          ^\n  94 |       cy.get('input[name=\"password\"]').type('wrongpassword');\n  95 |       cy.get('button[type=\"submit\"]').click();\n  96 |       ",
          "language": "js"
        }
      }
    },
    {
      "title": "should successfully login with valid credentials",
      "fullTitle": "Authentication Flow User Login should successfully login with valid credentials",
      "file": null,
      "currentRetry": 0,
      "err": {
        "message": "Timed out retrying after 10000ms: Expected to find element: `input[name=\"email\"]`, but never found it.",
        "type": "existence",
        "name": "AssertionError",
        "stack": "AssertionError: Timed out retrying after 10000ms: Expected to find element: `input[name=\"email\"]`, but never found it.\n    at Context.eval (webpack://cvsemfrescura-backend/./cypress/e2e/auth.cy.js:101:9)",
        "parsedStack": [
          {
            "message": "AssertionError: Timed out retrying after 10000ms: Expected to find element: `input[name=\"email\"]`, but never found it.",
            "whitespace": ""
          },
          {
            "function": "Context.eval",
            "fileUrl": "http://localhost:3001/__cypress/tests?p=cypress/e2e/auth.cy.js",
            "originalFile": "webpack://cvsemfrescura-backend/./cypress/e2e/auth.cy.js",
            "relativeFile": "cypress/e2e/auth.cy.js",
            "absoluteFile": "/workspace/backend/cypress/e2e/auth.cy.js",
            "line": 101,
            "column": 9,
            "whitespace": "    "
          }
        ],
        "codeFrame": {
          "line": 101,
          "column": 10,
          "originalFile": "cypress/e2e/auth.cy.js",
          "relativeFile": "backend/cypress/e2e/auth.cy.js",
          "absoluteFile": "/workspace/backend/cypress/e2e/auth.cy.js",
          "frame": "   99 |\n  100 |     it('should successfully login with valid credentials', () => {\n> 101 |       cy.get('input[name=\"email\"]').type(Cypress.env('testEmail'));\n      |          ^\n  102 |       cy.get('input[name=\"password\"]').type(Cypress.env('testPassword'));\n  103 |       cy.get('button[type=\"submit\"]').click();\n  104 |       ",
          "language": "js"
        }
      }
    },
    {
      "title": "should show password visibility toggle",
      "fullTitle": "Authentication Flow User Login should show password visibility toggle",
      "file": null,
      "currentRetry": 0,
      "err": {
        "message": "Timed out retrying after 10000ms: Expected to find element: `input[name=\"password\"]`, but never found it.",
        "type": "existence",
        "name": "AssertionError",
        "stack": "AssertionError: Timed out retrying after 10000ms: Expected to find element: `input[name=\"password\"]`, but never found it.\n    at Context.eval (webpack://cvsemfrescura-backend/./cypress/e2e/auth.cy.js:111:39)",
        "parsedStack": [
          {
            "message": "AssertionError: Timed out retrying after 10000ms: Expected to find element: `input[name=\"password\"]`, but never found it.",
            "whitespace": ""
          },
          {
            "function": "Context.eval",
            "fileUrl": "http://localhost:3001/__cypress/tests?p=cypress/e2e/auth.cy.js",
            "originalFile": "webpack://cvsemfrescura-backend/./cypress/e2e/auth.cy.js",
            "relativeFile": "cypress/e2e/auth.cy.js",
            "absoluteFile": "/workspace/backend/cypress/e2e/auth.cy.js",
            "line": 111,
            "column": 39,
            "whitespace": "    "
          }
        ],
        "codeFrame": {
          "line": 111,
          "column": 40,
          "originalFile": "cypress/e2e/auth.cy.js",
          "relativeFile": "backend/cypress/e2e/auth.cy.js",
          "absoluteFile": "/workspace/backend/cypress/e2e/auth.cy.js",
          "frame": "  109 |\n  110 |     it('should show password visibility toggle', () => {\n> 111 |       cy.get('input[name=\"password\"]').should('have.attr', 'type', 'password');\n      |                                        ^\n  112 |       cy.get('[data-cy=\"toggle-password\"]').click();\n  113 |       cy.get('input[name=\"password\"]').should('have.attr', 'type', 'text');\n  114 |     });",
          "language": "js"
        }
      }
    },
    {
      "title": "should remember user with \"Remember me\" checkbox",
      "fullTitle": "Authentication Flow User Login should remember user with \"Remember me\" checkbox",
      "file": null,
      "currentRetry": 0,
      "err": {
        "message": "Timed out retrying after 10000ms: Expected to find element: `input[type=\"checkbox\"]`, but never found it.",
        "type": "existence",
        "name": "AssertionError",
        "stack": "AssertionError: Timed out retrying after 10000ms: Expected to find element: `input[type=\"checkbox\"]`, but never found it.\n    at Context.eval (webpack://cvsemfrescura-backend/./cypress/e2e/auth.cy.js:117:9)",
        "parsedStack": [
          {
            "message": "AssertionError: Timed out retrying after 10000ms: Expected to find element: `input[type=\"checkbox\"]`, but never found it.",
            "whitespace": ""
          },
          {
            "function": "Context.eval",
            "fileUrl": "http://localhost:3001/__cypress/tests?p=cypress/e2e/auth.cy.js",
            "originalFile": "webpack://cvsemfrescura-backend/./cypress/e2e/auth.cy.js",
            "relativeFile": "cypress/e2e/auth.cy.js",
            "absoluteFile": "/workspace/backend/cypress/e2e/auth.cy.js",
            "line": 117,
            "column": 9,
            "whitespace": "    "
          }
        ],
        "codeFrame": {
          "line": 117,
          "column": 10,
          "originalFile": "cypress/e2e/auth.cy.js",
          "relativeFile": "backend/cypress/e2e/auth.cy.js",
          "absoluteFile": "/workspace/backend/cypress/e2e/auth.cy.js",
          "frame": "  115 |\n  116 |     it('should remember user with \"Remember me\" checkbox', () => {\n> 117 |       cy.get('input[type=\"checkbox\"]').check();\n      |          ^\n  118 |       cy.get('input[name=\"email\"]').type(Cypress.env('testEmail'));\n  119 |       cy.get('input[name=\"password\"]').type(Cypress.env('testPassword'));\n  120 |       cy.get('button[type=\"submit\"]').click();",
          "language": "js"
        }
      }
    },
    {
      "title": "\"before each\" hook for \"should display logout button when logged in\"",
      "fullTitle": "Authentication Flow User Logout \"before each\" hook for \"should display logout button when logged in\"",
      "file": null,
      "currentRetry": 0,
      "err": {
        "message": "`cy.request()` failed on:\n\nhttp://localhost:3001/api/user/login\n\nThe response we received from your web server was:\n\n  > 400: Bad Request\n\nThis was considered a failure because the status code was not `2xx` or `3xx`.\n\nIf you do not want status codes to cause failures pass the option: `failOnStatusCode: false`\n\n-----------------------------------------------------------\n\nThe request we sent was:\n\nMethod: POST\nURL: http://localhost:3001/api/user/login\nHeaders: {\n  \"Connection\": \"keep-alive\",\n  \"user-agent\": \"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Cypress/14.5.3 Chrome/130.0.6723.137 Electron/33.2.1 Safari/537.36\",\n  \"accept\": \"*/*\",\n  \"accept-encoding\": \"gzip, deflate\",\n  \"content-type\": \"application/json\",\n  \"content-length\": 52\n}\nBody: {\"email\":\"test@example.com\",\"password\":\"Test123!@#\"}\n\n-----------------------------------------------------------\n\nThe response we got was:\n\nStatus: 400 - Bad Request\nHeaders: {\n  \"content-security-policy\": \"default-src 'self';style-src 'self' 'unsafe-inline';script-src 'self' 'unsafe-inline' https://js.stripe.com;img-src 'self' data: https:;connect-src 'self' https://api.openai.com https://api.stripe.com;font-src 'self' https://fonts.gstatic.com;object-src 'none';upgrade-insecure-requests;base-uri 'self';form-action 'self';frame-ancestors 'self';script-src-attr 'none'\",\n  \"cross-origin-opener-policy\": \"same-origin\",\n  \"cross-origin-resource-policy\": \"same-origin\",\n  \"origin-agent-cluster\": \"?1\",\n  \"referrer-policy\": \"no-referrer\",\n  \"strict-transport-security\": \"max-age=31536000; includeSubDomains; preload\",\n  \"x-content-type-options\": \"nosniff\",\n  \"x-dns-prefetch-control\": \"off\",\n  \"x-download-options\": \"noopen\",\n  \"x-frame-options\": \"SAMEORIGIN\",\n  \"x-permitted-cross-domain-policies\": \"none\",\n  \"x-xss-protection\": \"0\",\n  \"access-control-allow-origin\": \"*\",\n  \"access-control-allow-credentials\": \"true\",\n  \"content-type\": \"application/json; charset=utf-8\",\n  \"content-length\": \"158\",\n  \"etag\": \"W/\\\"9e-Ogrc9wEnesje3GshpCqSjXobaeE\\\"\",\n  \"date\": \"Wed, 30 Jul 2025 17:41:18 GMT\",\n  \"connection\": \"keep-alive\",\n  \"keep-alive\": \"timeout=5\"\n}\nBody: {\n  \"error\": \"Este email ainda não está cadastrado no sistema. Por favor, clique em \\\"Criar Conta\\\" para fazer seu cadastro primeiro.\",\n  \"needsRegistration\": true\n}\n\n\nhttps://on.cypress.io/request\n\nBecause this error occurred during a `before each` hook we are skipping the remaining tests in the current suite: `User Logout`",
        "name": "CypressError",
        "stack": "CypressError: `cy.request()` failed on:\n\nhttp://localhost:3001/api/user/login\n\nThe response we received from your web server was:\n\n  > 400: Bad Request\n\nThis was considered a failure because the status code was not `2xx` or `3xx`.\n\nIf you do not want status codes to cause failures pass the option: `failOnStatusCode: false`\n\n-----------------------------------------------------------\n\nThe request we sent was:\n\nMethod: POST\nURL: http://localhost:3001/api/user/login\nHeaders: {\n  \"Connection\": \"keep-alive\",\n  \"user-agent\": \"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Cypress/14.5.3 Chrome/130.0.6723.137 Electron/33.2.1 Safari/537.36\",\n  \"accept\": \"*/*\",\n  \"accept-encoding\": \"gzip, deflate\",\n  \"content-type\": \"application/json\",\n  \"content-length\": 52\n}\nBody: {\"email\":\"test@example.com\",\"password\":\"Test123!@#\"}\n\n-----------------------------------------------------------\n\nThe response we got was:\n\nStatus: 400 - Bad Request\nHeaders: {\n  \"content-security-policy\": \"default-src 'self';style-src 'self' 'unsafe-inline';script-src 'self' 'unsafe-inline' https://js.stripe.com;img-src 'self' data: https:;connect-src 'self' https://api.openai.com https://api.stripe.com;font-src 'self' https://fonts.gstatic.com;object-src 'none';upgrade-insecure-requests;base-uri 'self';form-action 'self';frame-ancestors 'self';script-src-attr 'none'\",\n  \"cross-origin-opener-policy\": \"same-origin\",\n  \"cross-origin-resource-policy\": \"same-origin\",\n  \"origin-agent-cluster\": \"?1\",\n  \"referrer-policy\": \"no-referrer\",\n  \"strict-transport-security\": \"max-age=31536000; includeSubDomains; preload\",\n  \"x-content-type-options\": \"nosniff\",\n  \"x-dns-prefetch-control\": \"off\",\n  \"x-download-options\": \"noopen\",\n  \"x-frame-options\": \"SAMEORIGIN\",\n  \"x-permitted-cross-domain-policies\": \"none\",\n  \"x-xss-protection\": \"0\",\n  \"access-control-allow-origin\": \"*\",\n  \"access-control-allow-credentials\": \"true\",\n  \"content-type\": \"application/json; charset=utf-8\",\n  \"content-length\": \"158\",\n  \"etag\": \"W/\\\"9e-Ogrc9wEnesje3GshpCqSjXobaeE\\\"\",\n  \"date\": \"Wed, 30 Jul 2025 17:41:18 GMT\",\n  \"connection\": \"keep-alive\",\n  \"keep-alive\": \"timeout=5\"\n}\nBody: {\n  \"error\": \"Este email ainda não está cadastrado no sistema. Por favor, clique em \\\"Criar Conta\\\" para fazer seu cadastro primeiro.\",\n  \"needsRegistration\": true\n}\n\n\nhttps://on.cypress.io/request\n\nBecause this error occurred during a `before each` hook we are skipping the remaining tests in the current suite: `User Logout`\n    at <unknown> (http://localhost:3001/__cypress/runner/cypress_runner.js:136330:72)\n    at tryCatcher (http://localhost:3001/__cypress/runner/cypress_runner.js:1777:23)\n    at Promise._settlePromiseFromHandler (http://localhost:3001/__cypress/runner/cypress_runner.js:1489:31)\n    at Promise._settlePromise (http://localhost:3001/__cypress/runner/cypress_runner.js:1546:18)\n    at Promise._settlePromise0 (http://localhost:3001/__cypress/runner/cypress_runner.js:1591:10)\n    at Promise._settlePromises (http://localhost:3001/__cypress/runner/cypress_runner.js:1671:18)\n    at _drainQueueStep (http://localhost:3001/__cypress/runner/cypress_runner.js:2377:12)\n    at _drainQueue (http://localhost:3001/__cypress/runner/cypress_runner.js:2370:9)\n    at Async._drainQueues (http://localhost:3001/__cypress/runner/cypress_runner.js:2386:5)\n    at Async.drainQueues (http://localhost:3001/__cypress/runner/cypress_runner.js:2256:14)\nFrom Your Spec Code:\n    at Context.eval (webpack://cvsemfrescura-backend/./cypress/support/commands.js:13:5)\n    at wrapped (http://localhost:3001/__cypress/runner/cypress_runner.js:141524:43)",
        "parsedStack": [
          {
            "message": "CypressError: `cy.request()` failed on:",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "http://localhost:3001/api/user/login",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "The response we received from your web server was:",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "> 400: Bad Request",
            "whitespace": "  "
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "This was considered a failure because the status code was not `2xx` or `3xx`.",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "If you do not want status codes to cause failures pass the option: `failOnStatusCode: false`",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "-----------------------------------------------------------",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "The request we sent was:",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "Method: POST",
            "whitespace": ""
          },
          {
            "message": "URL: http://localhost:3001/api/user/login",
            "whitespace": ""
          },
          {
            "message": "Headers: {",
            "whitespace": ""
          },
          {
            "message": "\"Connection\": \"keep-alive\",",
            "whitespace": "  "
          },
          {
            "message": "\"user-agent\": \"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Cypress/14.5.3 Chrome/130.0.6723.137 Electron/33.2.1 Safari/537.36\",",
            "whitespace": "  "
          },
          {
            "message": "\"accept\": \"*/*\",",
            "whitespace": "  "
          },
          {
            "message": "\"accept-encoding\": \"gzip, deflate\",",
            "whitespace": "  "
          },
          {
            "message": "\"content-type\": \"application/json\",",
            "whitespace": "  "
          },
          {
            "message": "\"content-length\": 52",
            "whitespace": "  "
          },
          {
            "message": "}",
            "whitespace": ""
          },
          {
            "message": "Body: {\"email\":\"test@example.com\",\"password\":\"Test123!@#\"}",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "-----------------------------------------------------------",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "The response we got was:",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "Status: 400 - Bad Request",
            "whitespace": ""
          },
          {
            "message": "Headers: {",
            "whitespace": ""
          },
          {
            "message": "\"content-security-policy\": \"default-src 'self';style-src 'self' 'unsafe-inline';script-src 'self' 'unsafe-inline' https://js.stripe.com;img-src 'self' data: https:;connect-src 'self' https://api.openai.com https://api.stripe.com;font-src 'self' https://fonts.gstatic.com;object-src 'none';upgrade-insecure-requests;base-uri 'self';form-action 'self';frame-ancestors 'self';script-src-attr 'none'\",",
            "whitespace": "  "
          },
          {
            "message": "\"cross-origin-opener-policy\": \"same-origin\",",
            "whitespace": "  "
          },
          {
            "message": "\"cross-origin-resource-policy\": \"same-origin\",",
            "whitespace": "  "
          },
          {
            "message": "\"origin-agent-cluster\": \"?1\",",
            "whitespace": "  "
          },
          {
            "message": "\"referrer-policy\": \"no-referrer\",",
            "whitespace": "  "
          },
          {
            "message": "\"strict-transport-security\": \"max-age=31536000; includeSubDomains; preload\",",
            "whitespace": "  "
          },
          {
            "message": "\"x-content-type-options\": \"nosniff\",",
            "whitespace": "  "
          },
          {
            "message": "\"x-dns-prefetch-control\": \"off\",",
            "whitespace": "  "
          },
          {
            "message": "\"x-download-options\": \"noopen\",",
            "whitespace": "  "
          },
          {
            "message": "\"x-frame-options\": \"SAMEORIGIN\",",
            "whitespace": "  "
          },
          {
            "message": "\"x-permitted-cross-domain-policies\": \"none\",",
            "whitespace": "  "
          },
          {
            "message": "\"x-xss-protection\": \"0\",",
            "whitespace": "  "
          },
          {
            "message": "\"access-control-allow-origin\": \"*\",",
            "whitespace": "  "
          },
          {
            "message": "\"access-control-allow-credentials\": \"true\",",
            "whitespace": "  "
          },
          {
            "message": "\"content-type\": \"application/json; charset=utf-8\",",
            "whitespace": "  "
          },
          {
            "message": "\"content-length\": \"158\",",
            "whitespace": "  "
          },
          {
            "message": "\"etag\": \"W/\\\"9e-Ogrc9wEnesje3GshpCqSjXobaeE\\\"\",",
            "whitespace": "  "
          },
          {
            "message": "\"date\": \"Wed, 30 Jul 2025 17:41:18 GMT\",",
            "whitespace": "  "
          },
          {
            "message": "\"connection\": \"keep-alive\",",
            "whitespace": "  "
          },
          {
            "message": "\"keep-alive\": \"timeout=5\"",
            "whitespace": "  "
          },
          {
            "message": "}",
            "whitespace": ""
          },
          {
            "message": "Body: {",
            "whitespace": ""
          },
          {
            "message": "\"error\": \"Este email ainda não está cadastrado no sistema. Por favor, clique em \\\"Criar Conta\\\" para fazer seu cadastro primeiro.\",",
            "whitespace": "  "
          },
          {
            "message": "\"needsRegistration\": true",
            "whitespace": "  "
          },
          {
            "message": "}",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "function": "<unknown>",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 136330,
            "column": 72,
            "whitespace": "    "
          },
          {
            "function": "tryCatcher",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 1777,
            "column": 23,
            "whitespace": "    "
          },
          {
            "function": "Promise._settlePromiseFromHandler",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 1489,
            "column": 31,
            "whitespace": "    "
          },
          {
            "function": "Promise._settlePromise",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 1546,
            "column": 18,
            "whitespace": "    "
          },
          {
            "function": "Promise._settlePromise0",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 1591,
            "column": 10,
            "whitespace": "    "
          },
          {
            "function": "Promise._settlePromises",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 1671,
            "column": 18,
            "whitespace": "    "
          },
          {
            "function": "_drainQueueStep",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 2377,
            "column": 12,
            "whitespace": "    "
          },
          {
            "function": "_drainQueue",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 2370,
            "column": 9,
            "whitespace": "    "
          },
          {
            "function": "Async._drainQueues",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 2386,
            "column": 5,
            "whitespace": "    "
          },
          {
            "function": "Async.drainQueues",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 2256,
            "column": 14,
            "whitespace": "    "
          },
          {
            "message": "From Your Spec Code:",
            "whitespace": ""
          },
          {
            "function": "Context.eval",
            "fileUrl": "http://localhost:3001/__cypress/tests?p=cypress/support/e2e.js",
            "originalFile": "webpack://cvsemfrescura-backend/./cypress/support/commands.js",
            "relativeFile": "cypress/support/commands.js",
            "absoluteFile": "/workspace/backend/cypress/support/commands.js",
            "line": 13,
            "column": 5,
            "whitespace": "    "
          },
          {
            "function": "wrapped",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 141524,
            "column": 43,
            "whitespace": "    "
          }
        ],
        "codeFrame": {
          "line": 13,
          "column": 6,
          "originalFile": "cypress/support/commands.js",
          "relativeFile": "backend/cypress/support/commands.js",
          "absoluteFile": "/workspace/backend/cypress/support/commands.js",
          "frame": "  11 | // Custom command for user login\n  12 | Cypress.Commands.add('login', (email, password) => {\n> 13 |   cy.request('POST', `${Cypress.env('apiUrl')}/user/login`, {\n     |      ^\n  14 |     email: email || Cypress.env('testEmail'),\n  15 |     password: password || Cypress.env('testPassword')\n  16 |   }).then((response) => {",
          "language": "js"
        }
      }
    },
    {
      "title": "should display password reset form",
      "fullTitle": "Authentication Flow Password Reset should display password reset form",
      "file": null,
      "currentRetry": 0,
      "err": {
        "message": "Timed out retrying after 10000ms: Expected to find content: 'Esqueceu sua senha?' but never did.",
        "type": "existence",
        "name": "AssertionError",
        "stack": "AssertionError: Timed out retrying after 10000ms: Expected to find content: 'Esqueceu sua senha?' but never did.\n    at Context.eval (webpack://cvsemfrescura-backend/./cypress/e2e/auth.cy.js:166:9)",
        "parsedStack": [
          {
            "message": "AssertionError: Timed out retrying after 10000ms: Expected to find content: 'Esqueceu sua senha?' but never did.",
            "whitespace": ""
          },
          {
            "function": "Context.eval",
            "fileUrl": "http://localhost:3001/__cypress/tests?p=cypress/e2e/auth.cy.js",
            "originalFile": "webpack://cvsemfrescura-backend/./cypress/e2e/auth.cy.js",
            "relativeFile": "cypress/e2e/auth.cy.js",
            "absoluteFile": "/workspace/backend/cypress/e2e/auth.cy.js",
            "line": 166,
            "column": 9,
            "whitespace": "    "
          }
        ],
        "codeFrame": {
          "line": 166,
          "column": 10,
          "originalFile": "cypress/e2e/auth.cy.js",
          "relativeFile": "backend/cypress/e2e/auth.cy.js",
          "absoluteFile": "/workspace/backend/cypress/e2e/auth.cy.js",
          "frame": "  164 |\n  165 |     it('should display password reset form', () => {\n> 166 |       cy.contains('Esqueceu sua senha?').click();\n      |          ^\n  167 |       cy.get('input[name=\"email\"]').should('be.visible');\n  168 |       cy.contains('Enviar link de recuperação').should('be.visible');\n  169 |     });",
          "language": "js"
        }
      }
    },
    {
      "title": "should show validation error for empty email",
      "fullTitle": "Authentication Flow Password Reset should show validation error for empty email",
      "file": null,
      "currentRetry": 0,
      "err": {
        "message": "Timed out retrying after 10000ms: Expected to find content: 'Esqueceu sua senha?' but never did.",
        "type": "existence",
        "name": "AssertionError",
        "stack": "AssertionError: Timed out retrying after 10000ms: Expected to find content: 'Esqueceu sua senha?' but never did.\n    at Context.eval (webpack://cvsemfrescura-backend/./cypress/e2e/auth.cy.js:172:9)",
        "parsedStack": [
          {
            "message": "AssertionError: Timed out retrying after 10000ms: Expected to find content: 'Esqueceu sua senha?' but never did.",
            "whitespace": ""
          },
          {
            "function": "Context.eval",
            "fileUrl": "http://localhost:3001/__cypress/tests?p=cypress/e2e/auth.cy.js",
            "originalFile": "webpack://cvsemfrescura-backend/./cypress/e2e/auth.cy.js",
            "relativeFile": "cypress/e2e/auth.cy.js",
            "absoluteFile": "/workspace/backend/cypress/e2e/auth.cy.js",
            "line": 172,
            "column": 9,
            "whitespace": "    "
          }
        ],
        "codeFrame": {
          "line": 172,
          "column": 10,
          "originalFile": "cypress/e2e/auth.cy.js",
          "relativeFile": "backend/cypress/e2e/auth.cy.js",
          "absoluteFile": "/workspace/backend/cypress/e2e/auth.cy.js",
          "frame": "  170 |\n  171 |     it('should show validation error for empty email', () => {\n> 172 |       cy.contains('Esqueceu sua senha?').click();\n      |          ^\n  173 |       cy.contains('Enviar link de recuperação').click();\n  174 |       cy.contains('Email é obrigatório').should('be.visible');\n  175 |     });",
          "language": "js"
        }
      }
    },
    {
      "title": "should show validation error for invalid email",
      "fullTitle": "Authentication Flow Password Reset should show validation error for invalid email",
      "file": null,
      "currentRetry": 0,
      "err": {
        "message": "Timed out retrying after 10000ms: Expected to find content: 'Esqueceu sua senha?' but never did.",
        "type": "existence",
        "name": "AssertionError",
        "stack": "AssertionError: Timed out retrying after 10000ms: Expected to find content: 'Esqueceu sua senha?' but never did.\n    at Context.eval (webpack://cvsemfrescura-backend/./cypress/e2e/auth.cy.js:178:9)",
        "parsedStack": [
          {
            "message": "AssertionError: Timed out retrying after 10000ms: Expected to find content: 'Esqueceu sua senha?' but never did.",
            "whitespace": ""
          },
          {
            "function": "Context.eval",
            "fileUrl": "http://localhost:3001/__cypress/tests?p=cypress/e2e/auth.cy.js",
            "originalFile": "webpack://cvsemfrescura-backend/./cypress/e2e/auth.cy.js",
            "relativeFile": "cypress/e2e/auth.cy.js",
            "absoluteFile": "/workspace/backend/cypress/e2e/auth.cy.js",
            "line": 178,
            "column": 9,
            "whitespace": "    "
          }
        ],
        "codeFrame": {
          "line": 178,
          "column": 10,
          "originalFile": "cypress/e2e/auth.cy.js",
          "relativeFile": "backend/cypress/e2e/auth.cy.js",
          "absoluteFile": "/workspace/backend/cypress/e2e/auth.cy.js",
          "frame": "  176 |\n  177 |     it('should show validation error for invalid email', () => {\n> 178 |       cy.contains('Esqueceu sua senha?').click();\n      |          ^\n  179 |       cy.get('input[name=\"email\"]').type('invalid-email');\n  180 |       cy.contains('Enviar link de recuperação').click();\n  181 |       cy.contains('Email inválido').should('be.visible');",
          "language": "js"
        }
      }
    },
    {
      "title": "should successfully request password reset",
      "fullTitle": "Authentication Flow Password Reset should successfully request password reset",
      "file": null,
      "currentRetry": 0,
      "err": {
        "message": "Timed out retrying after 10000ms: Expected to find content: 'Esqueceu sua senha?' but never did.",
        "type": "existence",
        "name": "AssertionError",
        "stack": "AssertionError: Timed out retrying after 10000ms: Expected to find content: 'Esqueceu sua senha?' but never did.\n    at Context.eval (webpack://cvsemfrescura-backend/./cypress/e2e/auth.cy.js:185:9)",
        "parsedStack": [
          {
            "message": "AssertionError: Timed out retrying after 10000ms: Expected to find content: 'Esqueceu sua senha?' but never did.",
            "whitespace": ""
          },
          {
            "function": "Context.eval",
            "fileUrl": "http://localhost:3001/__cypress/tests?p=cypress/e2e/auth.cy.js",
            "originalFile": "webpack://cvsemfrescura-backend/./cypress/e2e/auth.cy.js",
            "relativeFile": "cypress/e2e/auth.cy.js",
            "absoluteFile": "/workspace/backend/cypress/e2e/auth.cy.js",
            "line": 185,
            "column": 9,
            "whitespace": "    "
          }
        ],
        "codeFrame": {
          "line": 185,
          "column": 10,
          "originalFile": "cypress/e2e/auth.cy.js",
          "relativeFile": "backend/cypress/e2e/auth.cy.js",
          "absoluteFile": "/workspace/backend/cypress/e2e/auth.cy.js",
          "frame": "  183 |\n  184 |     it('should successfully request password reset', () => {\n> 185 |       cy.contains('Esqueceu sua senha?').click();\n      |          ^\n  186 |       cy.get('input[name=\"email\"]').type(Cypress.env('testEmail'));\n  187 |       cy.contains('Enviar link de recuperação').click();\n  188 |       ",
          "language": "js"
        }
      }
    },
    {
      "title": "should show error for non-existent email",
      "fullTitle": "Authentication Flow Password Reset should show error for non-existent email",
      "file": null,
      "currentRetry": 0,
      "err": {
        "message": "Timed out retrying after 10000ms: Expected to find content: 'Esqueceu sua senha?' but never did.",
        "type": "existence",
        "name": "AssertionError",
        "stack": "AssertionError: Timed out retrying after 10000ms: Expected to find content: 'Esqueceu sua senha?' but never did.\n    at Context.eval (webpack://cvsemfrescura-backend/./cypress/e2e/auth.cy.js:193:9)",
        "parsedStack": [
          {
            "message": "AssertionError: Timed out retrying after 10000ms: Expected to find content: 'Esqueceu sua senha?' but never did.",
            "whitespace": ""
          },
          {
            "function": "Context.eval",
            "fileUrl": "http://localhost:3001/__cypress/tests?p=cypress/e2e/auth.cy.js",
            "originalFile": "webpack://cvsemfrescura-backend/./cypress/e2e/auth.cy.js",
            "relativeFile": "cypress/e2e/auth.cy.js",
            "absoluteFile": "/workspace/backend/cypress/e2e/auth.cy.js",
            "line": 193,
            "column": 9,
            "whitespace": "    "
          }
        ],
        "codeFrame": {
          "line": 193,
          "column": 10,
          "originalFile": "cypress/e2e/auth.cy.js",
          "relativeFile": "backend/cypress/e2e/auth.cy.js",
          "absoluteFile": "/workspace/backend/cypress/e2e/auth.cy.js",
          "frame": "  191 |\n  192 |     it('should show error for non-existent email', () => {\n> 193 |       cy.contains('Esqueceu sua senha?').click();\n      |          ^\n  194 |       cy.get('input[name=\"email\"]').type('nonexistent@example.com');\n  195 |       cy.contains('Enviar link de recuperação').click();\n  196 |       ",
          "language": "js"
        }
      }
    },
    {
      "title": "\"before each\" hook for \"should maintain session on page refresh\"",
      "fullTitle": "Authentication Flow Session Management \"before each\" hook for \"should maintain session on page refresh\"",
      "file": null,
      "currentRetry": 0,
      "err": {
        "message": "`cy.request()` failed on:\n\nhttp://localhost:3001/api/user/login\n\nThe response we received from your web server was:\n\n  > 400: Bad Request\n\nThis was considered a failure because the status code was not `2xx` or `3xx`.\n\nIf you do not want status codes to cause failures pass the option: `failOnStatusCode: false`\n\n-----------------------------------------------------------\n\nThe request we sent was:\n\nMethod: POST\nURL: http://localhost:3001/api/user/login\nHeaders: {\n  \"Connection\": \"keep-alive\",\n  \"user-agent\": \"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Cypress/14.5.3 Chrome/130.0.6723.137 Electron/33.2.1 Safari/537.36\",\n  \"accept\": \"*/*\",\n  \"accept-encoding\": \"gzip, deflate\",\n  \"content-type\": \"application/json\",\n  \"content-length\": 52\n}\nBody: {\"email\":\"test@example.com\",\"password\":\"Test123!@#\"}\n\n-----------------------------------------------------------\n\nThe response we got was:\n\nStatus: 400 - Bad Request\nHeaders: {\n  \"content-security-policy\": \"default-src 'self';style-src 'self' 'unsafe-inline';script-src 'self' 'unsafe-inline' https://js.stripe.com;img-src 'self' data: https:;connect-src 'self' https://api.openai.com https://api.stripe.com;font-src 'self' https://fonts.gstatic.com;object-src 'none';upgrade-insecure-requests;base-uri 'self';form-action 'self';frame-ancestors 'self';script-src-attr 'none'\",\n  \"cross-origin-opener-policy\": \"same-origin\",\n  \"cross-origin-resource-policy\": \"same-origin\",\n  \"origin-agent-cluster\": \"?1\",\n  \"referrer-policy\": \"no-referrer\",\n  \"strict-transport-security\": \"max-age=31536000; includeSubDomains; preload\",\n  \"x-content-type-options\": \"nosniff\",\n  \"x-dns-prefetch-control\": \"off\",\n  \"x-download-options\": \"noopen\",\n  \"x-frame-options\": \"SAMEORIGIN\",\n  \"x-permitted-cross-domain-policies\": \"none\",\n  \"x-xss-protection\": \"0\",\n  \"access-control-allow-origin\": \"*\",\n  \"access-control-allow-credentials\": \"true\",\n  \"content-type\": \"application/json; charset=utf-8\",\n  \"content-length\": \"158\",\n  \"etag\": \"W/\\\"9e-Ogrc9wEnesje3GshpCqSjXobaeE\\\"\",\n  \"date\": \"Wed, 30 Jul 2025 17:42:10 GMT\",\n  \"connection\": \"keep-alive\",\n  \"keep-alive\": \"timeout=5\"\n}\nBody: {\n  \"error\": \"Este email ainda não está cadastrado no sistema. Por favor, clique em \\\"Criar Conta\\\" para fazer seu cadastro primeiro.\",\n  \"needsRegistration\": true\n}\n\n\nhttps://on.cypress.io/request\n\nBecause this error occurred during a `before each` hook we are skipping the remaining tests in the current suite: `Session Management`",
        "name": "CypressError",
        "stack": "CypressError: `cy.request()` failed on:\n\nhttp://localhost:3001/api/user/login\n\nThe response we received from your web server was:\n\n  > 400: Bad Request\n\nThis was considered a failure because the status code was not `2xx` or `3xx`.\n\nIf you do not want status codes to cause failures pass the option: `failOnStatusCode: false`\n\n-----------------------------------------------------------\n\nThe request we sent was:\n\nMethod: POST\nURL: http://localhost:3001/api/user/login\nHeaders: {\n  \"Connection\": \"keep-alive\",\n  \"user-agent\": \"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Cypress/14.5.3 Chrome/130.0.6723.137 Electron/33.2.1 Safari/537.36\",\n  \"accept\": \"*/*\",\n  \"accept-encoding\": \"gzip, deflate\",\n  \"content-type\": \"application/json\",\n  \"content-length\": 52\n}\nBody: {\"email\":\"test@example.com\",\"password\":\"Test123!@#\"}\n\n-----------------------------------------------------------\n\nThe response we got was:\n\nStatus: 400 - Bad Request\nHeaders: {\n  \"content-security-policy\": \"default-src 'self';style-src 'self' 'unsafe-inline';script-src 'self' 'unsafe-inline' https://js.stripe.com;img-src 'self' data: https:;connect-src 'self' https://api.openai.com https://api.stripe.com;font-src 'self' https://fonts.gstatic.com;object-src 'none';upgrade-insecure-requests;base-uri 'self';form-action 'self';frame-ancestors 'self';script-src-attr 'none'\",\n  \"cross-origin-opener-policy\": \"same-origin\",\n  \"cross-origin-resource-policy\": \"same-origin\",\n  \"origin-agent-cluster\": \"?1\",\n  \"referrer-policy\": \"no-referrer\",\n  \"strict-transport-security\": \"max-age=31536000; includeSubDomains; preload\",\n  \"x-content-type-options\": \"nosniff\",\n  \"x-dns-prefetch-control\": \"off\",\n  \"x-download-options\": \"noopen\",\n  \"x-frame-options\": \"SAMEORIGIN\",\n  \"x-permitted-cross-domain-policies\": \"none\",\n  \"x-xss-protection\": \"0\",\n  \"access-control-allow-origin\": \"*\",\n  \"access-control-allow-credentials\": \"true\",\n  \"content-type\": \"application/json; charset=utf-8\",\n  \"content-length\": \"158\",\n  \"etag\": \"W/\\\"9e-Ogrc9wEnesje3GshpCqSjXobaeE\\\"\",\n  \"date\": \"Wed, 30 Jul 2025 17:42:10 GMT\",\n  \"connection\": \"keep-alive\",\n  \"keep-alive\": \"timeout=5\"\n}\nBody: {\n  \"error\": \"Este email ainda não está cadastrado no sistema. Por favor, clique em \\\"Criar Conta\\\" para fazer seu cadastro primeiro.\",\n  \"needsRegistration\": true\n}\n\n\nhttps://on.cypress.io/request\n\nBecause this error occurred during a `before each` hook we are skipping the remaining tests in the current suite: `Session Management`\n    at <unknown> (http://localhost:3001/__cypress/runner/cypress_runner.js:136330:72)\n    at tryCatcher (http://localhost:3001/__cypress/runner/cypress_runner.js:1777:23)\n    at Promise._settlePromiseFromHandler (http://localhost:3001/__cypress/runner/cypress_runner.js:1489:31)\n    at Promise._settlePromise (http://localhost:3001/__cypress/runner/cypress_runner.js:1546:18)\n    at Promise._settlePromise0 (http://localhost:3001/__cypress/runner/cypress_runner.js:1591:10)\n    at Promise._settlePromises (http://localhost:3001/__cypress/runner/cypress_runner.js:1671:18)\n    at _drainQueueStep (http://localhost:3001/__cypress/runner/cypress_runner.js:2377:12)\n    at _drainQueue (http://localhost:3001/__cypress/runner/cypress_runner.js:2370:9)\n    at Async._drainQueues (http://localhost:3001/__cypress/runner/cypress_runner.js:2386:5)\n    at Async.drainQueues (http://localhost:3001/__cypress/runner/cypress_runner.js:2256:14)\nFrom Your Spec Code:\n    at Context.eval (webpack://cvsemfrescura-backend/./cypress/support/commands.js:13:5)\n    at wrapped (http://localhost:3001/__cypress/runner/cypress_runner.js:141524:43)",
        "parsedStack": [
          {
            "message": "CypressError: `cy.request()` failed on:",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "http://localhost:3001/api/user/login",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "The response we received from your web server was:",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "> 400: Bad Request",
            "whitespace": "  "
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "This was considered a failure because the status code was not `2xx` or `3xx`.",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "If you do not want status codes to cause failures pass the option: `failOnStatusCode: false`",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "-----------------------------------------------------------",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "The request we sent was:",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "Method: POST",
            "whitespace": ""
          },
          {
            "message": "URL: http://localhost:3001/api/user/login",
            "whitespace": ""
          },
          {
            "message": "Headers: {",
            "whitespace": ""
          },
          {
            "message": "\"Connection\": \"keep-alive\",",
            "whitespace": "  "
          },
          {
            "message": "\"user-agent\": \"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Cypress/14.5.3 Chrome/130.0.6723.137 Electron/33.2.1 Safari/537.36\",",
            "whitespace": "  "
          },
          {
            "message": "\"accept\": \"*/*\",",
            "whitespace": "  "
          },
          {
            "message": "\"accept-encoding\": \"gzip, deflate\",",
            "whitespace": "  "
          },
          {
            "message": "\"content-type\": \"application/json\",",
            "whitespace": "  "
          },
          {
            "message": "\"content-length\": 52",
            "whitespace": "  "
          },
          {
            "message": "}",
            "whitespace": ""
          },
          {
            "message": "Body: {\"email\":\"test@example.com\",\"password\":\"Test123!@#\"}",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "-----------------------------------------------------------",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "The response we got was:",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "Status: 400 - Bad Request",
            "whitespace": ""
          },
          {
            "message": "Headers: {",
            "whitespace": ""
          },
          {
            "message": "\"content-security-policy\": \"default-src 'self';style-src 'self' 'unsafe-inline';script-src 'self' 'unsafe-inline' https://js.stripe.com;img-src 'self' data: https:;connect-src 'self' https://api.openai.com https://api.stripe.com;font-src 'self' https://fonts.gstatic.com;object-src 'none';upgrade-insecure-requests;base-uri 'self';form-action 'self';frame-ancestors 'self';script-src-attr 'none'\",",
            "whitespace": "  "
          },
          {
            "message": "\"cross-origin-opener-policy\": \"same-origin\",",
            "whitespace": "  "
          },
          {
            "message": "\"cross-origin-resource-policy\": \"same-origin\",",
            "whitespace": "  "
          },
          {
            "message": "\"origin-agent-cluster\": \"?1\",",
            "whitespace": "  "
          },
          {
            "message": "\"referrer-policy\": \"no-referrer\",",
            "whitespace": "  "
          },
          {
            "message": "\"strict-transport-security\": \"max-age=31536000; includeSubDomains; preload\",",
            "whitespace": "  "
          },
          {
            "message": "\"x-content-type-options\": \"nosniff\",",
            "whitespace": "  "
          },
          {
            "message": "\"x-dns-prefetch-control\": \"off\",",
            "whitespace": "  "
          },
          {
            "message": "\"x-download-options\": \"noopen\",",
            "whitespace": "  "
          },
          {
            "message": "\"x-frame-options\": \"SAMEORIGIN\",",
            "whitespace": "  "
          },
          {
            "message": "\"x-permitted-cross-domain-policies\": \"none\",",
            "whitespace": "  "
          },
          {
            "message": "\"x-xss-protection\": \"0\",",
            "whitespace": "  "
          },
          {
            "message": "\"access-control-allow-origin\": \"*\",",
            "whitespace": "  "
          },
          {
            "message": "\"access-control-allow-credentials\": \"true\",",
            "whitespace": "  "
          },
          {
            "message": "\"content-type\": \"application/json; charset=utf-8\",",
            "whitespace": "  "
          },
          {
            "message": "\"content-length\": \"158\",",
            "whitespace": "  "
          },
          {
            "message": "\"etag\": \"W/\\\"9e-Ogrc9wEnesje3GshpCqSjXobaeE\\\"\",",
            "whitespace": "  "
          },
          {
            "message": "\"date\": \"Wed, 30 Jul 2025 17:42:10 GMT\",",
            "whitespace": "  "
          },
          {
            "message": "\"connection\": \"keep-alive\",",
            "whitespace": "  "
          },
          {
            "message": "\"keep-alive\": \"timeout=5\"",
            "whitespace": "  "
          },
          {
            "message": "}",
            "whitespace": ""
          },
          {
            "message": "Body: {",
            "whitespace": ""
          },
          {
            "message": "\"error\": \"Este email ainda não está cadastrado no sistema. Por favor, clique em \\\"Criar Conta\\\" para fazer seu cadastro primeiro.\",",
            "whitespace": "  "
          },
          {
            "message": "\"needsRegistration\": true",
            "whitespace": "  "
          },
          {
            "message": "}",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "function": "<unknown>",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 136330,
            "column": 72,
            "whitespace": "    "
          },
          {
            "function": "tryCatcher",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 1777,
            "column": 23,
            "whitespace": "    "
          },
          {
            "function": "Promise._settlePromiseFromHandler",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 1489,
            "column": 31,
            "whitespace": "    "
          },
          {
            "function": "Promise._settlePromise",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 1546,
            "column": 18,
            "whitespace": "    "
          },
          {
            "function": "Promise._settlePromise0",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 1591,
            "column": 10,
            "whitespace": "    "
          },
          {
            "function": "Promise._settlePromises",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 1671,
            "column": 18,
            "whitespace": "    "
          },
          {
            "function": "_drainQueueStep",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 2377,
            "column": 12,
            "whitespace": "    "
          },
          {
            "function": "_drainQueue",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 2370,
            "column": 9,
            "whitespace": "    "
          },
          {
            "function": "Async._drainQueues",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 2386,
            "column": 5,
            "whitespace": "    "
          },
          {
            "function": "Async.drainQueues",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 2256,
            "column": 14,
            "whitespace": "    "
          },
          {
            "message": "From Your Spec Code:",
            "whitespace": ""
          },
          {
            "function": "Context.eval",
            "fileUrl": "http://localhost:3001/__cypress/tests?p=cypress/support/e2e.js",
            "originalFile": "webpack://cvsemfrescura-backend/./cypress/support/commands.js",
            "relativeFile": "cypress/support/commands.js",
            "absoluteFile": "/workspace/backend/cypress/support/commands.js",
            "line": 13,
            "column": 5,
            "whitespace": "    "
          },
          {
            "function": "wrapped",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 141524,
            "column": 43,
            "whitespace": "    "
          }
        ],
        "codeFrame": {
          "line": 13,
          "column": 6,
          "originalFile": "cypress/support/commands.js",
          "relativeFile": "backend/cypress/support/commands.js",
          "absoluteFile": "/workspace/backend/cypress/support/commands.js",
          "frame": "  11 | // Custom command for user login\n  12 | Cypress.Commands.add('login', (email, password) => {\n> 13 |   cy.request('POST', `${Cypress.env('apiUrl')}/user/login`, {\n     |      ^\n  14 |     email: email || Cypress.env('testEmail'),\n  15 |     password: password || Cypress.env('testPassword')\n  16 |   }).then((response) => {",
          "language": "js"
        }
      }
    }
  ],
  "passes": []
}
  (Results)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Tests:        24                                                                               │
  │ Passing:      0                                                                                │
  │ Failing:      19                                                                               │
  │ Pending:      0                                                                                │
  │ Skipped:      5                                                                                │
  │ Screenshots:  19                                                                               │
  │ Video:        true                                                                             │
  │ Duration:     2 minutes, 47 seconds                                                            │
  │ Spec Ran:     auth.cy.js                                                                       │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


  (Screenshots)

  -  /workspace/backend/cypress/screenshots/auth.cy.js/Authentication Flow -- User Re     (1280x720)
     gistration through Login Page -- should display login form with option to regist               
     er (failed).png                                                                                
  -  /workspace/backend/cypress/screenshots/auth.cy.js/Authentication Flow -- User Re     (1280x720)
     gistration through Login Page -- should switch to registration form when clickin               
     g register (failed).png                                                                        
  -  /workspace/backend/cypress/screenshots/auth.cy.js/Authentication Flow -- User Re     (1280x720)
     gistration through Login Page -- should show validation errors for empty fields                
     (failed).png                                                                                   
  -  /workspace/backend/cypress/screenshots/auth.cy.js/Authentication Flow -- User Re     (1280x720)
     gistration through Login Page -- should show validation error for invalid email                
     (failed).png                                                                                   
  -  /workspace/backend/cypress/screenshots/auth.cy.js/Authentication Flow -- User Re     (1280x720)
     gistration through Login Page -- should show validation error for weak password                
     (failed).png                                                                                   
  -  /workspace/backend/cypress/screenshots/auth.cy.js/Authentication Flow -- User Re     (1280x720)
     gistration through Login Page -- should successfully register a new user (failed               
     ).png                                                                                          
  -  /workspace/backend/cypress/screenshots/auth.cy.js/Authentication Flow -- User Re     (1280x720)
     gistration through Login Page -- should show error for duplicate email (failed).               
     png                                                                                            
  -  /workspace/backend/cypress/screenshots/auth.cy.js/Authentication Flow -- User Lo     (1280x720)
     gin -- should display login form (failed).png                                                  
  -  /workspace/backend/cypress/screenshots/auth.cy.js/Authentication Flow -- User Lo     (1280x720)
     gin -- should show error for invalid credentials (failed).png                                  
  -  /workspace/backend/cypress/screenshots/auth.cy.js/Authentication Flow -- User Lo     (1280x720)
     gin -- should successfully login with valid credentials (failed).png                           
  -  /workspace/backend/cypress/screenshots/auth.cy.js/Authentication Flow -- User Lo     (1280x720)
     gin -- should show password visibility toggle (failed).png                                     
  -  /workspace/backend/cypress/screenshots/auth.cy.js/Authentication Flow -- User Lo     (1280x720)
     gin -- should remember user with Remember me checkbox (failed).png                             
  -  /workspace/backend/cypress/screenshots/auth.cy.js/Authentication Flow -- User Lo     (1280x720)
     gout -- should display logout button when logged in -- before each hook (failed)               
     .png                                                                                           
  -  /workspace/backend/cypress/screenshots/auth.cy.js/Authentication Flow -- Passwor     (1280x720)
     d Reset -- should display password reset form (failed).png                                     
  -  /workspace/backend/cypress/screenshots/auth.cy.js/Authentication Flow -- Passwor     (1280x720)
     d Reset -- should show validation error for empty email (failed).png                           
  -  /workspace/backend/cypress/screenshots/auth.cy.js/Authentication Flow -- Passwor     (1280x720)
     d Reset -- should show validation error for invalid email (failed).png                         
  -  /workspace/backend/cypress/screenshots/auth.cy.js/Authentication Flow -- Passwor     (1280x720)
     d Reset -- should successfully request password reset (failed).png                             
  -  /workspace/backend/cypress/screenshots/auth.cy.js/Authentication Flow -- Passwor     (1280x720)
     d Reset -- should show error for non-existent email (failed).png                               
  -  /workspace/backend/cypress/screenshots/auth.cy.js/Authentication Flow -- Session     (1280x720)
      Management -- should maintain session on page refresh -- before each hook (fail               
     ed).png                                                                                        


  (Video)

  -  Video output: /workspace/backend/cypress/videos/auth.cy.js.mp4


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running:  payment.cy.js                                                                   (2 of 3)
Starting test: should display available plans
Completed test: should display available plans
Starting test: should highlight recommended plan
Completed test: should highlight recommended plan
{
  "stats": {
    "suites": 2,
    "tests": 2,
    "passes": 0,
    "pending": 0,
    "failures": 2,
    "start": "2025-07-30T17:42:13.175Z",
    "end": "2025-07-30T17:42:23.971Z",
    "duration": 10796
  },
  "tests": [
    {
      "title": "should display available plans",
      "fullTitle": "Payment Flow Plan Selection should display available plans",
      "file": null,
      "duration": 10537,
      "currentRetry": 0,
      "err": {
        "message": "Timed out retrying after 10000ms: Expected to find content: 'Escolha seu Plano' within the element: <h1.hero-title.fade-in.visible> but never did.",
        "type": "existence",
        "name": "AssertionError",
        "stack": "AssertionError: Timed out retrying after 10000ms: Expected to find content: 'Escolha seu Plano' within the element: <h1.hero-title.fade-in.visible> but never did.\n    at Context.eval (webpack://cvsemfrescura-backend/./cypress/e2e/payment.cy.js:38:49)",
        "parsedStack": [
          {
            "message": "AssertionError: Timed out retrying after 10000ms: Expected to find content: 'Escolha seu Plano' within the element: <h1.hero-title.fade-in.visible> but never did.",
            "whitespace": ""
          },
          {
            "function": "Context.eval",
            "fileUrl": "http://localhost:3001/__cypress/tests?p=cypress/e2e/payment.cy.js",
            "originalFile": "webpack://cvsemfrescura-backend/./cypress/e2e/payment.cy.js",
            "relativeFile": "cypress/e2e/payment.cy.js",
            "absoluteFile": "/workspace/backend/cypress/e2e/payment.cy.js",
            "line": 38,
            "column": 49,
            "whitespace": "    "
          }
        ],
        "codeFrame": {
          "line": 38,
          "column": 50,
          "originalFile": "cypress/e2e/payment.cy.js",
          "relativeFile": "backend/cypress/e2e/payment.cy.js",
          "absoluteFile": "/workspace/backend/cypress/e2e/payment.cy.js",
          "frame": "  36 |\n  37 |     it('should display available plans', () => {\n> 38 |       cy.get('h1').contains('Escolha seu Plano').should('be.visible');\n     |                                                  ^\n  39 |       \n  40 |       // Should show at least 3 plans\n  41 |       cy.get('[data-cy^=\"plan-card-\"]').should('have.length.at.least', 3);",
          "language": "js"
        }
      }
    },
    {
      "title": "should highlight recommended plan",
      "fullTitle": "Payment Flow Plan Selection should highlight recommended plan",
      "file": null,
      "duration": 123,
      "currentRetry": 0,
      "err": {
        "message": "`cy.request()` failed on:\n\nhttp://localhost:3001/api/user/register\n\nThe response we received from your web server was:\n\n  > 400: Bad Request\n\nThis was considered a failure because the status code was not `2xx` or `3xx`.\n\nIf you do not want status codes to cause failures pass the option: `failOnStatusCode: false`\n\n-----------------------------------------------------------\n\nThe request we sent was:\n\nMethod: POST\nURL: http://localhost:3001/api/user/register\nHeaders: {\n  \"Connection\": \"keep-alive\",\n  \"user-agent\": \"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Cypress/14.5.3 Chrome/130.0.6723.137 Electron/33.2.1 Safari/537.36\",\n  \"accept\": \"*/*\",\n  \"accept-encoding\": \"gzip, deflate\",\n  \"content-type\": \"application/json\",\n  \"content-length\": 129\n}\nBody: {\"name\":\"Payment Test User\",\"email\":\"payment.test.1753897333119@example.com\",\"password\":\"TestPassword123!\",\"phone\":\"11987654321\"}\n\n-----------------------------------------------------------\n\nThe response we got was:\n\nStatus: 400 - Bad Request\nHeaders: {\n  \"content-security-policy\": \"default-src 'self';style-src 'self' 'unsafe-inline';script-src 'self' 'unsafe-inline' https://js.stripe.com;img-src 'self' data: https:;connect-src 'self' https://api.openai.com https://api.stripe.com;font-src 'self' https://fonts.gstatic.com;object-src 'none';upgrade-insecure-requests;base-uri 'self';form-action 'self';frame-ancestors 'self';script-src-attr 'none'\",\n  \"cross-origin-opener-policy\": \"same-origin\",\n  \"cross-origin-resource-policy\": \"same-origin\",\n  \"origin-agent-cluster\": \"?1\",\n  \"referrer-policy\": \"no-referrer\",\n  \"strict-transport-security\": \"max-age=31536000; includeSubDomains; preload\",\n  \"x-content-type-options\": \"nosniff\",\n  \"x-dns-prefetch-control\": \"off\",\n  \"x-download-options\": \"noopen\",\n  \"x-frame-options\": \"SAMEORIGIN\",\n  \"x-permitted-cross-domain-policies\": \"none\",\n  \"x-xss-protection\": \"0\",\n  \"access-control-allow-origin\": \"*\",\n  \"access-control-allow-credentials\": \"true\",\n  \"content-type\": \"application/json; charset=utf-8\",\n  \"content-length\": \"33\",\n  \"etag\": \"W/\\\"21-+7HHFfFT5cNTh3xzIQS+DGwctdU\\\"\",\n  \"date\": \"Wed, 30 Jul 2025 17:42:23 GMT\",\n  \"connection\": \"keep-alive\",\n  \"keep-alive\": \"timeout=5\"\n}\nBody: {\n  \"error\": \"Email já cadastrado.\"\n}\n\n\nhttps://on.cypress.io/request\n\nBecause this error occurred during a `before each` hook we are skipping the remaining tests in the current suite: `Payment Flow`",
        "name": "CypressError",
        "stack": "CypressError: `cy.request()` failed on:\n\nhttp://localhost:3001/api/user/register\n\nThe response we received from your web server was:\n\n  > 400: Bad Request\n\nThis was considered a failure because the status code was not `2xx` or `3xx`.\n\nIf you do not want status codes to cause failures pass the option: `failOnStatusCode: false`\n\n-----------------------------------------------------------\n\nThe request we sent was:\n\nMethod: POST\nURL: http://localhost:3001/api/user/register\nHeaders: {\n  \"Connection\": \"keep-alive\",\n  \"user-agent\": \"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Cypress/14.5.3 Chrome/130.0.6723.137 Electron/33.2.1 Safari/537.36\",\n  \"accept\": \"*/*\",\n  \"accept-encoding\": \"gzip, deflate\",\n  \"content-type\": \"application/json\",\n  \"content-length\": 129\n}\nBody: {\"name\":\"Payment Test User\",\"email\":\"payment.test.1753897333119@example.com\",\"password\":\"TestPassword123!\",\"phone\":\"11987654321\"}\n\n-----------------------------------------------------------\n\nThe response we got was:\n\nStatus: 400 - Bad Request\nHeaders: {\n  \"content-security-policy\": \"default-src 'self';style-src 'self' 'unsafe-inline';script-src 'self' 'unsafe-inline' https://js.stripe.com;img-src 'self' data: https:;connect-src 'self' https://api.openai.com https://api.stripe.com;font-src 'self' https://fonts.gstatic.com;object-src 'none';upgrade-insecure-requests;base-uri 'self';form-action 'self';frame-ancestors 'self';script-src-attr 'none'\",\n  \"cross-origin-opener-policy\": \"same-origin\",\n  \"cross-origin-resource-policy\": \"same-origin\",\n  \"origin-agent-cluster\": \"?1\",\n  \"referrer-policy\": \"no-referrer\",\n  \"strict-transport-security\": \"max-age=31536000; includeSubDomains; preload\",\n  \"x-content-type-options\": \"nosniff\",\n  \"x-dns-prefetch-control\": \"off\",\n  \"x-download-options\": \"noopen\",\n  \"x-frame-options\": \"SAMEORIGIN\",\n  \"x-permitted-cross-domain-policies\": \"none\",\n  \"x-xss-protection\": \"0\",\n  \"access-control-allow-origin\": \"*\",\n  \"access-control-allow-credentials\": \"true\",\n  \"content-type\": \"application/json; charset=utf-8\",\n  \"content-length\": \"33\",\n  \"etag\": \"W/\\\"21-+7HHFfFT5cNTh3xzIQS+DGwctdU\\\"\",\n  \"date\": \"Wed, 30 Jul 2025 17:42:23 GMT\",\n  \"connection\": \"keep-alive\",\n  \"keep-alive\": \"timeout=5\"\n}\nBody: {\n  \"error\": \"Email já cadastrado.\"\n}\n\n\nhttps://on.cypress.io/request\n\nBecause this error occurred during a `before each` hook we are skipping the remaining tests in the current suite: `Payment Flow`\n    at <unknown> (http://localhost:3001/__cypress/runner/cypress_runner.js:136330:72)\n    at tryCatcher (http://localhost:3001/__cypress/runner/cypress_runner.js:1777:23)\n    at Promise._settlePromiseFromHandler (http://localhost:3001/__cypress/runner/cypress_runner.js:1489:31)\n    at Promise._settlePromise (http://localhost:3001/__cypress/runner/cypress_runner.js:1546:18)\n    at Promise._settlePromise0 (http://localhost:3001/__cypress/runner/cypress_runner.js:1591:10)\n    at Promise._settlePromises (http://localhost:3001/__cypress/runner/cypress_runner.js:1671:18)\n    at _drainQueueStep (http://localhost:3001/__cypress/runner/cypress_runner.js:2377:12)\n    at _drainQueue (http://localhost:3001/__cypress/runner/cypress_runner.js:2370:9)\n    at Async._drainQueues (http://localhost:3001/__cypress/runner/cypress_runner.js:2386:5)\n    at Async.drainQueues (http://localhost:3001/__cypress/runner/cypress_runner.js:2256:14)\nFrom Your Spec Code:\n    at Context.eval (webpack://cvsemfrescura-backend/./cypress/support/commands.js:40:5)\n    at wrapped (http://localhost:3001/__cypress/runner/cypress_runner.js:141524:43)",
        "parsedStack": [
          {
            "message": "CypressError: `cy.request()` failed on:",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "http://localhost:3001/api/user/register",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "The response we received from your web server was:",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "> 400: Bad Request",
            "whitespace": "  "
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "This was considered a failure because the status code was not `2xx` or `3xx`.",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "If you do not want status codes to cause failures pass the option: `failOnStatusCode: false`",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "-----------------------------------------------------------",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "The request we sent was:",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "Method: POST",
            "whitespace": ""
          },
          {
            "message": "URL: http://localhost:3001/api/user/register",
            "whitespace": ""
          },
          {
            "message": "Headers: {",
            "whitespace": ""
          },
          {
            "message": "\"Connection\": \"keep-alive\",",
            "whitespace": "  "
          },
          {
            "message": "\"user-agent\": \"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Cypress/14.5.3 Chrome/130.0.6723.137 Electron/33.2.1 Safari/537.36\",",
            "whitespace": "  "
          },
          {
            "message": "\"accept\": \"*/*\",",
            "whitespace": "  "
          },
          {
            "message": "\"accept-encoding\": \"gzip, deflate\",",
            "whitespace": "  "
          },
          {
            "message": "\"content-type\": \"application/json\",",
            "whitespace": "  "
          },
          {
            "message": "\"content-length\": 129",
            "whitespace": "  "
          },
          {
            "message": "}",
            "whitespace": ""
          },
          {
            "message": "Body: {\"name\":\"Payment Test User\",\"email\":\"payment.test.1753897333119@example.com\",\"password\":\"TestPassword123!\",\"phone\":\"11987654321\"}",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "-----------------------------------------------------------",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "The response we got was:",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "Status: 400 - Bad Request",
            "whitespace": ""
          },
          {
            "message": "Headers: {",
            "whitespace": ""
          },
          {
            "message": "\"content-security-policy\": \"default-src 'self';style-src 'self' 'unsafe-inline';script-src 'self' 'unsafe-inline' https://js.stripe.com;img-src 'self' data: https:;connect-src 'self' https://api.openai.com https://api.stripe.com;font-src 'self' https://fonts.gstatic.com;object-src 'none';upgrade-insecure-requests;base-uri 'self';form-action 'self';frame-ancestors 'self';script-src-attr 'none'\",",
            "whitespace": "  "
          },
          {
            "message": "\"cross-origin-opener-policy\": \"same-origin\",",
            "whitespace": "  "
          },
          {
            "message": "\"cross-origin-resource-policy\": \"same-origin\",",
            "whitespace": "  "
          },
          {
            "message": "\"origin-agent-cluster\": \"?1\",",
            "whitespace": "  "
          },
          {
            "message": "\"referrer-policy\": \"no-referrer\",",
            "whitespace": "  "
          },
          {
            "message": "\"strict-transport-security\": \"max-age=31536000; includeSubDomains; preload\",",
            "whitespace": "  "
          },
          {
            "message": "\"x-content-type-options\": \"nosniff\",",
            "whitespace": "  "
          },
          {
            "message": "\"x-dns-prefetch-control\": \"off\",",
            "whitespace": "  "
          },
          {
            "message": "\"x-download-options\": \"noopen\",",
            "whitespace": "  "
          },
          {
            "message": "\"x-frame-options\": \"SAMEORIGIN\",",
            "whitespace": "  "
          },
          {
            "message": "\"x-permitted-cross-domain-policies\": \"none\",",
            "whitespace": "  "
          },
          {
            "message": "\"x-xss-protection\": \"0\",",
            "whitespace": "  "
          },
          {
            "message": "\"access-control-allow-origin\": \"*\",",
            "whitespace": "  "
          },
          {
            "message": "\"access-control-allow-credentials\": \"true\",",
            "whitespace": "  "
          },
          {
            "message": "\"content-type\": \"application/json; charset=utf-8\",",
            "whitespace": "  "
          },
          {
            "message": "\"content-length\": \"33\",",
            "whitespace": "  "
          },
          {
            "message": "\"etag\": \"W/\\\"21-+7HHFfFT5cNTh3xzIQS+DGwctdU\\\"\",",
            "whitespace": "  "
          },
          {
            "message": "\"date\": \"Wed, 30 Jul 2025 17:42:23 GMT\",",
            "whitespace": "  "
          },
          {
            "message": "\"connection\": \"keep-alive\",",
            "whitespace": "  "
          },
          {
            "message": "\"keep-alive\": \"timeout=5\"",
            "whitespace": "  "
          },
          {
            "message": "}",
            "whitespace": ""
          },
          {
            "message": "Body: {",
            "whitespace": ""
          },
          {
            "message": "\"error\": \"Email já cadastrado.\"",
            "whitespace": "  "
          },
          {
            "message": "}",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "function": "<unknown>",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 136330,
            "column": 72,
            "whitespace": "    "
          },
          {
            "function": "tryCatcher",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 1777,
            "column": 23,
            "whitespace": "    "
          },
          {
            "function": "Promise._settlePromiseFromHandler",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 1489,
            "column": 31,
            "whitespace": "    "
          },
          {
            "function": "Promise._settlePromise",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 1546,
            "column": 18,
            "whitespace": "    "
          },
          {
            "function": "Promise._settlePromise0",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 1591,
            "column": 10,
            "whitespace": "    "
          },
          {
            "function": "Promise._settlePromises",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 1671,
            "column": 18,
            "whitespace": "    "
          },
          {
            "function": "_drainQueueStep",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 2377,
            "column": 12,
            "whitespace": "    "
          },
          {
            "function": "_drainQueue",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 2370,
            "column": 9,
            "whitespace": "    "
          },
          {
            "function": "Async._drainQueues",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 2386,
            "column": 5,
            "whitespace": "    "
          },
          {
            "function": "Async.drainQueues",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 2256,
            "column": 14,
            "whitespace": "    "
          },
          {
            "message": "From Your Spec Code:",
            "whitespace": ""
          },
          {
            "function": "Context.eval",
            "fileUrl": "http://localhost:3001/__cypress/tests?p=cypress/support/e2e.js",
            "originalFile": "webpack://cvsemfrescura-backend/./cypress/support/commands.js",
            "relativeFile": "cypress/support/commands.js",
            "absoluteFile": "/workspace/backend/cypress/support/commands.js",
            "line": 40,
            "column": 5,
            "whitespace": "    "
          },
          {
            "function": "wrapped",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 141524,
            "column": 43,
            "whitespace": "    "
          }
        ],
        "codeFrame": {
          "line": 40,
          "column": 6,
          "originalFile": "cypress/support/commands.js",
          "relativeFile": "backend/cypress/support/commands.js",
          "absoluteFile": "/workspace/backend/cypress/support/commands.js",
          "frame": "  38 |   const user = { ...defaultUser, ...userData };\n  39 |   \n> 40 |   cy.request('POST', `${Cypress.env('apiUrl')}/user/register`, user)\n     |      ^\n  41 |     .then((response) => {\n  42 |       expect(response.status).to.eq(201);\n  43 |       return response.body;",
          "language": "js"
        }
      }
    }
  ],
  "pending": [],
  "failures": [
    {
      "title": "should display available plans",
      "fullTitle": "Payment Flow Plan Selection should display available plans",
      "file": null,
      "currentRetry": 0,
      "err": {
        "message": "Timed out retrying after 10000ms: Expected to find content: 'Escolha seu Plano' within the element: <h1.hero-title.fade-in.visible> but never did.",
        "type": "existence",
        "name": "AssertionError",
        "stack": "AssertionError: Timed out retrying after 10000ms: Expected to find content: 'Escolha seu Plano' within the element: <h1.hero-title.fade-in.visible> but never did.\n    at Context.eval (webpack://cvsemfrescura-backend/./cypress/e2e/payment.cy.js:38:49)",
        "parsedStack": [
          {
            "message": "AssertionError: Timed out retrying after 10000ms: Expected to find content: 'Escolha seu Plano' within the element: <h1.hero-title.fade-in.visible> but never did.",
            "whitespace": ""
          },
          {
            "function": "Context.eval",
            "fileUrl": "http://localhost:3001/__cypress/tests?p=cypress/e2e/payment.cy.js",
            "originalFile": "webpack://cvsemfrescura-backend/./cypress/e2e/payment.cy.js",
            "relativeFile": "cypress/e2e/payment.cy.js",
            "absoluteFile": "/workspace/backend/cypress/e2e/payment.cy.js",
            "line": 38,
            "column": 49,
            "whitespace": "    "
          }
        ],
        "codeFrame": {
          "line": 38,
          "column": 50,
          "originalFile": "cypress/e2e/payment.cy.js",
          "relativeFile": "backend/cypress/e2e/payment.cy.js",
          "absoluteFile": "/workspace/backend/cypress/e2e/payment.cy.js",
          "frame": "  36 |\n  37 |     it('should display available plans', () => {\n> 38 |       cy.get('h1').contains('Escolha seu Plano').should('be.visible');\n     |                                                  ^\n  39 |       \n  40 |       // Should show at least 3 plans\n  41 |       cy.get('[data-cy^=\"plan-card-\"]').should('have.length.at.least', 3);",
          "language": "js"
        }
      }
    },
    {
      "title": "\"before each\" hook for \"should highlight recommended plan\"",
      "fullTitle": "Payment Flow Plan Selection \"before each\" hook for \"should highlight recommended plan\"",
      "file": null,
      "currentRetry": 0,
      "err": {
        "message": "`cy.request()` failed on:\n\nhttp://localhost:3001/api/user/register\n\nThe response we received from your web server was:\n\n  > 400: Bad Request\n\nThis was considered a failure because the status code was not `2xx` or `3xx`.\n\nIf you do not want status codes to cause failures pass the option: `failOnStatusCode: false`\n\n-----------------------------------------------------------\n\nThe request we sent was:\n\nMethod: POST\nURL: http://localhost:3001/api/user/register\nHeaders: {\n  \"Connection\": \"keep-alive\",\n  \"user-agent\": \"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Cypress/14.5.3 Chrome/130.0.6723.137 Electron/33.2.1 Safari/537.36\",\n  \"accept\": \"*/*\",\n  \"accept-encoding\": \"gzip, deflate\",\n  \"content-type\": \"application/json\",\n  \"content-length\": 129\n}\nBody: {\"name\":\"Payment Test User\",\"email\":\"payment.test.1753897333119@example.com\",\"password\":\"TestPassword123!\",\"phone\":\"11987654321\"}\n\n-----------------------------------------------------------\n\nThe response we got was:\n\nStatus: 400 - Bad Request\nHeaders: {\n  \"content-security-policy\": \"default-src 'self';style-src 'self' 'unsafe-inline';script-src 'self' 'unsafe-inline' https://js.stripe.com;img-src 'self' data: https:;connect-src 'self' https://api.openai.com https://api.stripe.com;font-src 'self' https://fonts.gstatic.com;object-src 'none';upgrade-insecure-requests;base-uri 'self';form-action 'self';frame-ancestors 'self';script-src-attr 'none'\",\n  \"cross-origin-opener-policy\": \"same-origin\",\n  \"cross-origin-resource-policy\": \"same-origin\",\n  \"origin-agent-cluster\": \"?1\",\n  \"referrer-policy\": \"no-referrer\",\n  \"strict-transport-security\": \"max-age=31536000; includeSubDomains; preload\",\n  \"x-content-type-options\": \"nosniff\",\n  \"x-dns-prefetch-control\": \"off\",\n  \"x-download-options\": \"noopen\",\n  \"x-frame-options\": \"SAMEORIGIN\",\n  \"x-permitted-cross-domain-policies\": \"none\",\n  \"x-xss-protection\": \"0\",\n  \"access-control-allow-origin\": \"*\",\n  \"access-control-allow-credentials\": \"true\",\n  \"content-type\": \"application/json; charset=utf-8\",\n  \"content-length\": \"33\",\n  \"etag\": \"W/\\\"21-+7HHFfFT5cNTh3xzIQS+DGwctdU\\\"\",\n  \"date\": \"Wed, 30 Jul 2025 17:42:23 GMT\",\n  \"connection\": \"keep-alive\",\n  \"keep-alive\": \"timeout=5\"\n}\nBody: {\n  \"error\": \"Email já cadastrado.\"\n}\n\n\nhttps://on.cypress.io/request\n\nBecause this error occurred during a `before each` hook we are skipping the remaining tests in the current suite: `Payment Flow`",
        "name": "CypressError",
        "stack": "CypressError: `cy.request()` failed on:\n\nhttp://localhost:3001/api/user/register\n\nThe response we received from your web server was:\n\n  > 400: Bad Request\n\nThis was considered a failure because the status code was not `2xx` or `3xx`.\n\nIf you do not want status codes to cause failures pass the option: `failOnStatusCode: false`\n\n-----------------------------------------------------------\n\nThe request we sent was:\n\nMethod: POST\nURL: http://localhost:3001/api/user/register\nHeaders: {\n  \"Connection\": \"keep-alive\",\n  \"user-agent\": \"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Cypress/14.5.3 Chrome/130.0.6723.137 Electron/33.2.1 Safari/537.36\",\n  \"accept\": \"*/*\",\n  \"accept-encoding\": \"gzip, deflate\",\n  \"content-type\": \"application/json\",\n  \"content-length\": 129\n}\nBody: {\"name\":\"Payment Test User\",\"email\":\"payment.test.1753897333119@example.com\",\"password\":\"TestPassword123!\",\"phone\":\"11987654321\"}\n\n-----------------------------------------------------------\n\nThe response we got was:\n\nStatus: 400 - Bad Request\nHeaders: {\n  \"content-security-policy\": \"default-src 'self';style-src 'self' 'unsafe-inline';script-src 'self' 'unsafe-inline' https://js.stripe.com;img-src 'self' data: https:;connect-src 'self' https://api.openai.com https://api.stripe.com;font-src 'self' https://fonts.gstatic.com;object-src 'none';upgrade-insecure-requests;base-uri 'self';form-action 'self';frame-ancestors 'self';script-src-attr 'none'\",\n  \"cross-origin-opener-policy\": \"same-origin\",\n  \"cross-origin-resource-policy\": \"same-origin\",\n  \"origin-agent-cluster\": \"?1\",\n  \"referrer-policy\": \"no-referrer\",\n  \"strict-transport-security\": \"max-age=31536000; includeSubDomains; preload\",\n  \"x-content-type-options\": \"nosniff\",\n  \"x-dns-prefetch-control\": \"off\",\n  \"x-download-options\": \"noopen\",\n  \"x-frame-options\": \"SAMEORIGIN\",\n  \"x-permitted-cross-domain-policies\": \"none\",\n  \"x-xss-protection\": \"0\",\n  \"access-control-allow-origin\": \"*\",\n  \"access-control-allow-credentials\": \"true\",\n  \"content-type\": \"application/json; charset=utf-8\",\n  \"content-length\": \"33\",\n  \"etag\": \"W/\\\"21-+7HHFfFT5cNTh3xzIQS+DGwctdU\\\"\",\n  \"date\": \"Wed, 30 Jul 2025 17:42:23 GMT\",\n  \"connection\": \"keep-alive\",\n  \"keep-alive\": \"timeout=5\"\n}\nBody: {\n  \"error\": \"Email já cadastrado.\"\n}\n\n\nhttps://on.cypress.io/request\n\nBecause this error occurred during a `before each` hook we are skipping the remaining tests in the current suite: `Payment Flow`\n    at <unknown> (http://localhost:3001/__cypress/runner/cypress_runner.js:136330:72)\n    at tryCatcher (http://localhost:3001/__cypress/runner/cypress_runner.js:1777:23)\n    at Promise._settlePromiseFromHandler (http://localhost:3001/__cypress/runner/cypress_runner.js:1489:31)\n    at Promise._settlePromise (http://localhost:3001/__cypress/runner/cypress_runner.js:1546:18)\n    at Promise._settlePromise0 (http://localhost:3001/__cypress/runner/cypress_runner.js:1591:10)\n    at Promise._settlePromises (http://localhost:3001/__cypress/runner/cypress_runner.js:1671:18)\n    at _drainQueueStep (http://localhost:3001/__cypress/runner/cypress_runner.js:2377:12)\n    at _drainQueue (http://localhost:3001/__cypress/runner/cypress_runner.js:2370:9)\n    at Async._drainQueues (http://localhost:3001/__cypress/runner/cypress_runner.js:2386:5)\n    at Async.drainQueues (http://localhost:3001/__cypress/runner/cypress_runner.js:2256:14)\nFrom Your Spec Code:\n    at Context.eval (webpack://cvsemfrescura-backend/./cypress/support/commands.js:40:5)\n    at wrapped (http://localhost:3001/__cypress/runner/cypress_runner.js:141524:43)",
        "parsedStack": [
          {
            "message": "CypressError: `cy.request()` failed on:",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "http://localhost:3001/api/user/register",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "The response we received from your web server was:",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "> 400: Bad Request",
            "whitespace": "  "
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "This was considered a failure because the status code was not `2xx` or `3xx`.",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "If you do not want status codes to cause failures pass the option: `failOnStatusCode: false`",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "-----------------------------------------------------------",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "The request we sent was:",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "Method: POST",
            "whitespace": ""
          },
          {
            "message": "URL: http://localhost:3001/api/user/register",
            "whitespace": ""
          },
          {
            "message": "Headers: {",
            "whitespace": ""
          },
          {
            "message": "\"Connection\": \"keep-alive\",",
            "whitespace": "  "
          },
          {
            "message": "\"user-agent\": \"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Cypress/14.5.3 Chrome/130.0.6723.137 Electron/33.2.1 Safari/537.36\",",
            "whitespace": "  "
          },
          {
            "message": "\"accept\": \"*/*\",",
            "whitespace": "  "
          },
          {
            "message": "\"accept-encoding\": \"gzip, deflate\",",
            "whitespace": "  "
          },
          {
            "message": "\"content-type\": \"application/json\",",
            "whitespace": "  "
          },
          {
            "message": "\"content-length\": 129",
            "whitespace": "  "
          },
          {
            "message": "}",
            "whitespace": ""
          },
          {
            "message": "Body: {\"name\":\"Payment Test User\",\"email\":\"payment.test.1753897333119@example.com\",\"password\":\"TestPassword123!\",\"phone\":\"11987654321\"}",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "-----------------------------------------------------------",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "The response we got was:",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "Status: 400 - Bad Request",
            "whitespace": ""
          },
          {
            "message": "Headers: {",
            "whitespace": ""
          },
          {
            "message": "\"content-security-policy\": \"default-src 'self';style-src 'self' 'unsafe-inline';script-src 'self' 'unsafe-inline' https://js.stripe.com;img-src 'self' data: https:;connect-src 'self' https://api.openai.com https://api.stripe.com;font-src 'self' https://fonts.gstatic.com;object-src 'none';upgrade-insecure-requests;base-uri 'self';form-action 'self';frame-ancestors 'self';script-src-attr 'none'\",",
            "whitespace": "  "
          },
          {
            "message": "\"cross-origin-opener-policy\": \"same-origin\",",
            "whitespace": "  "
          },
          {
            "message": "\"cross-origin-resource-policy\": \"same-origin\",",
            "whitespace": "  "
          },
          {
            "message": "\"origin-agent-cluster\": \"?1\",",
            "whitespace": "  "
          },
          {
            "message": "\"referrer-policy\": \"no-referrer\",",
            "whitespace": "  "
          },
          {
            "message": "\"strict-transport-security\": \"max-age=31536000; includeSubDomains; preload\",",
            "whitespace": "  "
          },
          {
            "message": "\"x-content-type-options\": \"nosniff\",",
            "whitespace": "  "
          },
          {
            "message": "\"x-dns-prefetch-control\": \"off\",",
            "whitespace": "  "
          },
          {
            "message": "\"x-download-options\": \"noopen\",",
            "whitespace": "  "
          },
          {
            "message": "\"x-frame-options\": \"SAMEORIGIN\",",
            "whitespace": "  "
          },
          {
            "message": "\"x-permitted-cross-domain-policies\": \"none\",",
            "whitespace": "  "
          },
          {
            "message": "\"x-xss-protection\": \"0\",",
            "whitespace": "  "
          },
          {
            "message": "\"access-control-allow-origin\": \"*\",",
            "whitespace": "  "
          },
          {
            "message": "\"access-control-allow-credentials\": \"true\",",
            "whitespace": "  "
          },
          {
            "message": "\"content-type\": \"application/json; charset=utf-8\",",
            "whitespace": "  "
          },
          {
            "message": "\"content-length\": \"33\",",
            "whitespace": "  "
          },
          {
            "message": "\"etag\": \"W/\\\"21-+7HHFfFT5cNTh3xzIQS+DGwctdU\\\"\",",
            "whitespace": "  "
          },
          {
            "message": "\"date\": \"Wed, 30 Jul 2025 17:42:23 GMT\",",
            "whitespace": "  "
          },
          {
            "message": "\"connection\": \"keep-alive\",",
            "whitespace": "  "
          },
          {
            "message": "\"keep-alive\": \"timeout=5\"",
            "whitespace": "  "
          },
          {
            "message": "}",
            "whitespace": ""
          },
          {
            "message": "Body: {",
            "whitespace": ""
          },
          {
            "message": "\"error\": \"Email já cadastrado.\"",
            "whitespace": "  "
          },
          {
            "message": "}",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "function": "<unknown>",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 136330,
            "column": 72,
            "whitespace": "    "
          },
          {
            "function": "tryCatcher",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 1777,
            "column": 23,
            "whitespace": "    "
          },
          {
            "function": "Promise._settlePromiseFromHandler",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 1489,
            "column": 31,
            "whitespace": "    "
          },
          {
            "function": "Promise._settlePromise",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 1546,
            "column": 18,
            "whitespace": "    "
          },
          {
            "function": "Promise._settlePromise0",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 1591,
            "column": 10,
            "whitespace": "    "
          },
          {
            "function": "Promise._settlePromises",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 1671,
            "column": 18,
            "whitespace": "    "
          },
          {
            "function": "_drainQueueStep",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 2377,
            "column": 12,
            "whitespace": "    "
          },
          {
            "function": "_drainQueue",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 2370,
            "column": 9,
            "whitespace": "    "
          },
          {
            "function": "Async._drainQueues",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 2386,
            "column": 5,
            "whitespace": "    "
          },
          {
            "function": "Async.drainQueues",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 2256,
            "column": 14,
            "whitespace": "    "
          },
          {
            "message": "From Your Spec Code:",
            "whitespace": ""
          },
          {
            "function": "Context.eval",
            "fileUrl": "http://localhost:3001/__cypress/tests?p=cypress/support/e2e.js",
            "originalFile": "webpack://cvsemfrescura-backend/./cypress/support/commands.js",
            "relativeFile": "cypress/support/commands.js",
            "absoluteFile": "/workspace/backend/cypress/support/commands.js",
            "line": 40,
            "column": 5,
            "whitespace": "    "
          },
          {
            "function": "wrapped",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 141524,
            "column": 43,
            "whitespace": "    "
          }
        ],
        "codeFrame": {
          "line": 40,
          "column": 6,
          "originalFile": "cypress/support/commands.js",
          "relativeFile": "backend/cypress/support/commands.js",
          "absoluteFile": "/workspace/backend/cypress/support/commands.js",
          "frame": "  38 |   const user = { ...defaultUser, ...userData };\n  39 |   \n> 40 |   cy.request('POST', `${Cypress.env('apiUrl')}/user/register`, user)\n     |      ^\n  41 |     .then((response) => {\n  42 |       expect(response.status).to.eq(201);\n  43 |       return response.body;",
          "language": "js"
        }
      }
    }
  ],
  "passes": []
}
  (Results)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Tests:        27                                                                               │
  │ Passing:      0                                                                                │
  │ Failing:      2                                                                                │
  │ Pending:      0                                                                                │
  │ Skipped:      25                                                                               │
  │ Screenshots:  2                                                                                │
  │ Video:        true                                                                             │
  │ Duration:     10 seconds                                                                       │
  │ Spec Ran:     payment.cy.js                                                                    │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


  (Screenshots)

  -  /workspace/backend/cypress/screenshots/payment.cy.js/Payment Flow -- Plan Select     (1280x720)
     ion -- should display available plans (failed).png                                             
  -  /workspace/backend/cypress/screenshots/payment.cy.js/Payment Flow -- should high     (1280x720)
     light recommended plan -- before each hook (failed).png                                        


  (Video)

  -  Video output: /workspace/backend/cypress/videos/payment.cy.js.mp4


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running:  cv-analysis-complete.cy.js                                                      (3 of 3)
Starting test: should display the analysis page correctly
Completed test: should display the analysis page correctly
Starting test: should handle file drag and drop
Completed test: should handle file drag and drop
{
  "stats": {
    "suites": 2,
    "tests": 2,
    "passes": 0,
    "pending": 0,
    "failures": 2,
    "start": "2025-07-30T17:42:26.137Z",
    "end": "2025-07-30T17:42:36.815Z",
    "duration": 10678
  },
  "tests": [
    {
      "title": "should display the analysis page correctly",
      "fullTitle": "Complete CV Analysis Flow CV Upload Process should display the analysis page correctly",
      "file": null,
      "duration": 10473,
      "currentRetry": 0,
      "err": {
        "message": "Timed out retrying after 10000ms: Expected to find content: 'Análise de Currículo' within the element: <h1.hero-title.fade-in.visible> but never did.",
        "type": "existence",
        "name": "AssertionError",
        "stack": "AssertionError: Timed out retrying after 10000ms: Expected to find content: 'Análise de Currículo' within the element: <h1.hero-title.fade-in.visible> but never did.\n    at Context.eval (webpack://cvsemfrescura-backend/./cypress/e2e/cv-analysis-complete.cy.js:46:52)",
        "parsedStack": [
          {
            "message": "AssertionError: Timed out retrying after 10000ms: Expected to find content: 'Análise de Currículo' within the element: <h1.hero-title.fade-in.visible> but never did.",
            "whitespace": ""
          },
          {
            "function": "Context.eval",
            "fileUrl": "http://localhost:3001/__cypress/tests?p=cypress/e2e/cv-analysis-complete.cy.js",
            "originalFile": "webpack://cvsemfrescura-backend/./cypress/e2e/cv-analysis-complete.cy.js",
            "relativeFile": "cypress/e2e/cv-analysis-complete.cy.js",
            "absoluteFile": "/workspace/backend/cypress/e2e/cv-analysis-complete.cy.js",
            "line": 46,
            "column": 52,
            "whitespace": "    "
          }
        ],
        "codeFrame": {
          "line": 46,
          "column": 53,
          "originalFile": "cypress/e2e/cv-analysis-complete.cy.js",
          "relativeFile": "backend/cypress/e2e/cv-analysis-complete.cy.js",
          "absoluteFile": "/workspace/backend/cypress/e2e/cv-analysis-complete.cy.js",
          "frame": "  44 |     it('should display the analysis page correctly', () => {\n  45 |       // Check page title and main elements\n> 46 |       cy.get('h1').contains('Análise de Currículo').should('be.visible');\n     |                                                     ^\n  47 |       \n  48 |       // Check file upload area\n  49 |       cy.get('[data-cy=\"file-upload-area\"]').should('be.visible');",
          "language": "js"
        }
      }
    },
    {
      "title": "should handle file drag and drop",
      "fullTitle": "Complete CV Analysis Flow CV Upload Process should handle file drag and drop",
      "file": null,
      "duration": 68,
      "currentRetry": 0,
      "err": {
        "message": "`cy.request()` failed on:\n\nhttp://localhost:3001/api/user/register\n\nThe response we received from your web server was:\n\n  > 400: Bad Request\n\nThis was considered a failure because the status code was not `2xx` or `3xx`.\n\nIf you do not want status codes to cause failures pass the option: `failOnStatusCode: false`\n\n-----------------------------------------------------------\n\nThe request we sent was:\n\nMethod: POST\nURL: http://localhost:3001/api/user/register\nHeaders: {\n  \"Connection\": \"keep-alive\",\n  \"user-agent\": \"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Cypress/14.5.3 Chrome/130.0.6723.137 Electron/33.2.1 Safari/537.36\",\n  \"accept\": \"*/*\",\n  \"accept-encoding\": \"gzip, deflate\",\n  \"content-type\": \"application/json\",\n  \"content-length\": 132\n}\nBody: {\"name\":\"CV Analysis Test User\",\"email\":\"cv.analysis.1753897346091@example.com\",\"password\":\"TestPassword123!\",\"phone\":\"11987654321\"}\n\n-----------------------------------------------------------\n\nThe response we got was:\n\nStatus: 400 - Bad Request\nHeaders: {\n  \"content-security-policy\": \"default-src 'self';style-src 'self' 'unsafe-inline';script-src 'self' 'unsafe-inline' https://js.stripe.com;img-src 'self' data: https:;connect-src 'self' https://api.openai.com https://api.stripe.com;font-src 'self' https://fonts.gstatic.com;object-src 'none';upgrade-insecure-requests;base-uri 'self';form-action 'self';frame-ancestors 'self';script-src-attr 'none'\",\n  \"cross-origin-opener-policy\": \"same-origin\",\n  \"cross-origin-resource-policy\": \"same-origin\",\n  \"origin-agent-cluster\": \"?1\",\n  \"referrer-policy\": \"no-referrer\",\n  \"strict-transport-security\": \"max-age=31536000; includeSubDomains; preload\",\n  \"x-content-type-options\": \"nosniff\",\n  \"x-dns-prefetch-control\": \"off\",\n  \"x-download-options\": \"noopen\",\n  \"x-frame-options\": \"SAMEORIGIN\",\n  \"x-permitted-cross-domain-policies\": \"none\",\n  \"x-xss-protection\": \"0\",\n  \"access-control-allow-origin\": \"*\",\n  \"access-control-allow-credentials\": \"true\",\n  \"content-type\": \"application/json; charset=utf-8\",\n  \"content-length\": \"33\",\n  \"etag\": \"W/\\\"21-+7HHFfFT5cNTh3xzIQS+DGwctdU\\\"\",\n  \"date\": \"Wed, 30 Jul 2025 17:42:36 GMT\",\n  \"connection\": \"keep-alive\",\n  \"keep-alive\": \"timeout=5\"\n}\nBody: {\n  \"error\": \"Email já cadastrado.\"\n}\n\n\nhttps://on.cypress.io/request\n\nBecause this error occurred during a `before each` hook we are skipping the remaining tests in the current suite: `Complete CV Analysis Flow`",
        "name": "CypressError",
        "stack": "CypressError: `cy.request()` failed on:\n\nhttp://localhost:3001/api/user/register\n\nThe response we received from your web server was:\n\n  > 400: Bad Request\n\nThis was considered a failure because the status code was not `2xx` or `3xx`.\n\nIf you do not want status codes to cause failures pass the option: `failOnStatusCode: false`\n\n-----------------------------------------------------------\n\nThe request we sent was:\n\nMethod: POST\nURL: http://localhost:3001/api/user/register\nHeaders: {\n  \"Connection\": \"keep-alive\",\n  \"user-agent\": \"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Cypress/14.5.3 Chrome/130.0.6723.137 Electron/33.2.1 Safari/537.36\",\n  \"accept\": \"*/*\",\n  \"accept-encoding\": \"gzip, deflate\",\n  \"content-type\": \"application/json\",\n  \"content-length\": 132\n}\nBody: {\"name\":\"CV Analysis Test User\",\"email\":\"cv.analysis.1753897346091@example.com\",\"password\":\"TestPassword123!\",\"phone\":\"11987654321\"}\n\n-----------------------------------------------------------\n\nThe response we got was:\n\nStatus: 400 - Bad Request\nHeaders: {\n  \"content-security-policy\": \"default-src 'self';style-src 'self' 'unsafe-inline';script-src 'self' 'unsafe-inline' https://js.stripe.com;img-src 'self' data: https:;connect-src 'self' https://api.openai.com https://api.stripe.com;font-src 'self' https://fonts.gstatic.com;object-src 'none';upgrade-insecure-requests;base-uri 'self';form-action 'self';frame-ancestors 'self';script-src-attr 'none'\",\n  \"cross-origin-opener-policy\": \"same-origin\",\n  \"cross-origin-resource-policy\": \"same-origin\",\n  \"origin-agent-cluster\": \"?1\",\n  \"referrer-policy\": \"no-referrer\",\n  \"strict-transport-security\": \"max-age=31536000; includeSubDomains; preload\",\n  \"x-content-type-options\": \"nosniff\",\n  \"x-dns-prefetch-control\": \"off\",\n  \"x-download-options\": \"noopen\",\n  \"x-frame-options\": \"SAMEORIGIN\",\n  \"x-permitted-cross-domain-policies\": \"none\",\n  \"x-xss-protection\": \"0\",\n  \"access-control-allow-origin\": \"*\",\n  \"access-control-allow-credentials\": \"true\",\n  \"content-type\": \"application/json; charset=utf-8\",\n  \"content-length\": \"33\",\n  \"etag\": \"W/\\\"21-+7HHFfFT5cNTh3xzIQS+DGwctdU\\\"\",\n  \"date\": \"Wed, 30 Jul 2025 17:42:36 GMT\",\n  \"connection\": \"keep-alive\",\n  \"keep-alive\": \"timeout=5\"\n}\nBody: {\n  \"error\": \"Email já cadastrado.\"\n}\n\n\nhttps://on.cypress.io/request\n\nBecause this error occurred during a `before each` hook we are skipping the remaining tests in the current suite: `Complete CV Analysis Flow`\n    at <unknown> (http://localhost:3001/__cypress/runner/cypress_runner.js:136330:72)\n    at tryCatcher (http://localhost:3001/__cypress/runner/cypress_runner.js:1777:23)\n    at Promise._settlePromiseFromHandler (http://localhost:3001/__cypress/runner/cypress_runner.js:1489:31)\n    at Promise._settlePromise (http://localhost:3001/__cypress/runner/cypress_runner.js:1546:18)\n    at Promise._settlePromise0 (http://localhost:3001/__cypress/runner/cypress_runner.js:1591:10)\n    at Promise._settlePromises (http://localhost:3001/__cypress/runner/cypress_runner.js:1671:18)\n    at _drainQueueStep (http://localhost:3001/__cypress/runner/cypress_runner.js:2377:12)\n    at _drainQueue (http://localhost:3001/__cypress/runner/cypress_runner.js:2370:9)\n    at Async._drainQueues (http://localhost:3001/__cypress/runner/cypress_runner.js:2386:5)\n    at Async.drainQueues (http://localhost:3001/__cypress/runner/cypress_runner.js:2256:14)\nFrom Your Spec Code:\n    at Context.eval (webpack://cvsemfrescura-backend/./cypress/support/commands.js:40:5)\n    at wrapped (http://localhost:3001/__cypress/runner/cypress_runner.js:141524:43)",
        "parsedStack": [
          {
            "message": "CypressError: `cy.request()` failed on:",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "http://localhost:3001/api/user/register",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "The response we received from your web server was:",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "> 400: Bad Request",
            "whitespace": "  "
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "This was considered a failure because the status code was not `2xx` or `3xx`.",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "If you do not want status codes to cause failures pass the option: `failOnStatusCode: false`",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "-----------------------------------------------------------",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "The request we sent was:",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "Method: POST",
            "whitespace": ""
          },
          {
            "message": "URL: http://localhost:3001/api/user/register",
            "whitespace": ""
          },
          {
            "message": "Headers: {",
            "whitespace": ""
          },
          {
            "message": "\"Connection\": \"keep-alive\",",
            "whitespace": "  "
          },
          {
            "message": "\"user-agent\": \"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Cypress/14.5.3 Chrome/130.0.6723.137 Electron/33.2.1 Safari/537.36\",",
            "whitespace": "  "
          },
          {
            "message": "\"accept\": \"*/*\",",
            "whitespace": "  "
          },
          {
            "message": "\"accept-encoding\": \"gzip, deflate\",",
            "whitespace": "  "
          },
          {
            "message": "\"content-type\": \"application/json\",",
            "whitespace": "  "
          },
          {
            "message": "\"content-length\": 132",
            "whitespace": "  "
          },
          {
            "message": "}",
            "whitespace": ""
          },
          {
            "message": "Body: {\"name\":\"CV Analysis Test User\",\"email\":\"cv.analysis.1753897346091@example.com\",\"password\":\"TestPassword123!\",\"phone\":\"11987654321\"}",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "-----------------------------------------------------------",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "The response we got was:",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "Status: 400 - Bad Request",
            "whitespace": ""
          },
          {
            "message": "Headers: {",
            "whitespace": ""
          },
          {
            "message": "\"content-security-policy\": \"default-src 'self';style-src 'self' 'unsafe-inline';script-src 'self' 'unsafe-inline' https://js.stripe.com;img-src 'self' data: https:;connect-src 'self' https://api.openai.com https://api.stripe.com;font-src 'self' https://fonts.gstatic.com;object-src 'none';upgrade-insecure-requests;base-uri 'self';form-action 'self';frame-ancestors 'self';script-src-attr 'none'\",",
            "whitespace": "  "
          },
          {
            "message": "\"cross-origin-opener-policy\": \"same-origin\",",
            "whitespace": "  "
          },
          {
            "message": "\"cross-origin-resource-policy\": \"same-origin\",",
            "whitespace": "  "
          },
          {
            "message": "\"origin-agent-cluster\": \"?1\",",
            "whitespace": "  "
          },
          {
            "message": "\"referrer-policy\": \"no-referrer\",",
            "whitespace": "  "
          },
          {
            "message": "\"strict-transport-security\": \"max-age=31536000; includeSubDomains; preload\",",
            "whitespace": "  "
          },
          {
            "message": "\"x-content-type-options\": \"nosniff\",",
            "whitespace": "  "
          },
          {
            "message": "\"x-dns-prefetch-control\": \"off\",",
            "whitespace": "  "
          },
          {
            "message": "\"x-download-options\": \"noopen\",",
            "whitespace": "  "
          },
          {
            "message": "\"x-frame-options\": \"SAMEORIGIN\",",
            "whitespace": "  "
          },
          {
            "message": "\"x-permitted-cross-domain-policies\": \"none\",",
            "whitespace": "  "
          },
          {
            "message": "\"x-xss-protection\": \"0\",",
            "whitespace": "  "
          },
          {
            "message": "\"access-control-allow-origin\": \"*\",",
            "whitespace": "  "
          },
          {
            "message": "\"access-control-allow-credentials\": \"true\",",
            "whitespace": "  "
          },
          {
            "message": "\"content-type\": \"application/json; charset=utf-8\",",
            "whitespace": "  "
          },
          {
            "message": "\"content-length\": \"33\",",
            "whitespace": "  "
          },
          {
            "message": "\"etag\": \"W/\\\"21-+7HHFfFT5cNTh3xzIQS+DGwctdU\\\"\",",
            "whitespace": "  "
          },
          {
            "message": "\"date\": \"Wed, 30 Jul 2025 17:42:36 GMT\",",
            "whitespace": "  "
          },
          {
            "message": "\"connection\": \"keep-alive\",",
            "whitespace": "  "
          },
          {
            "message": "\"keep-alive\": \"timeout=5\"",
            "whitespace": "  "
          },
          {
            "message": "}",
            "whitespace": ""
          },
          {
            "message": "Body: {",
            "whitespace": ""
          },
          {
            "message": "\"error\": \"Email já cadastrado.\"",
            "whitespace": "  "
          },
          {
            "message": "}",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "function": "<unknown>",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 136330,
            "column": 72,
            "whitespace": "    "
          },
          {
            "function": "tryCatcher",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 1777,
            "column": 23,
            "whitespace": "    "
          },
          {
            "function": "Promise._settlePromiseFromHandler",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 1489,
            "column": 31,
            "whitespace": "    "
          },
          {
            "function": "Promise._settlePromise",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 1546,
            "column": 18,
            "whitespace": "    "
          },
          {
            "function": "Promise._settlePromise0",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 1591,
            "column": 10,
            "whitespace": "    "
          },
          {
            "function": "Promise._settlePromises",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 1671,
            "column": 18,
            "whitespace": "    "
          },
          {
            "function": "_drainQueueStep",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 2377,
            "column": 12,
            "whitespace": "    "
          },
          {
            "function": "_drainQueue",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 2370,
            "column": 9,
            "whitespace": "    "
          },
          {
            "function": "Async._drainQueues",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 2386,
            "column": 5,
            "whitespace": "    "
          },
          {
            "function": "Async.drainQueues",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 2256,
            "column": 14,
            "whitespace": "    "
          },
          {
            "message": "From Your Spec Code:",
            "whitespace": ""
          },
          {
            "function": "Context.eval",
            "fileUrl": "http://localhost:3001/__cypress/tests?p=cypress/support/e2e.js",
            "originalFile": "webpack://cvsemfrescura-backend/./cypress/support/commands.js",
            "relativeFile": "cypress/support/commands.js",
            "absoluteFile": "/workspace/backend/cypress/support/commands.js",
            "line": 40,
            "column": 5,
            "whitespace": "    "
          },
          {
            "function": "wrapped",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 141524,
            "column": 43,
            "whitespace": "    "
          }
        ],
        "codeFrame": {
          "line": 40,
          "column": 6,
          "originalFile": "cypress/support/commands.js",
          "relativeFile": "backend/cypress/support/commands.js",
          "absoluteFile": "/workspace/backend/cypress/support/commands.js",
          "frame": "  38 |   const user = { ...defaultUser, ...userData };\n  39 |   \n> 40 |   cy.request('POST', `${Cypress.env('apiUrl')}/user/register`, user)\n     |      ^\n  41 |     .then((response) => {\n  42 |       expect(response.status).to.eq(201);\n  43 |       return response.body;",
          "language": "js"
        }
      }
    }
  ],
  "pending": [],
  "failures": [
    {
      "title": "should display the analysis page correctly",
      "fullTitle": "Complete CV Analysis Flow CV Upload Process should display the analysis page correctly",
      "file": null,
      "currentRetry": 0,
      "err": {
        "message": "Timed out retrying after 10000ms: Expected to find content: 'Análise de Currículo' within the element: <h1.hero-title.fade-in.visible> but never did.",
        "type": "existence",
        "name": "AssertionError",
        "stack": "AssertionError: Timed out retrying after 10000ms: Expected to find content: 'Análise de Currículo' within the element: <h1.hero-title.fade-in.visible> but never did.\n    at Context.eval (webpack://cvsemfrescura-backend/./cypress/e2e/cv-analysis-complete.cy.js:46:52)",
        "parsedStack": [
          {
            "message": "AssertionError: Timed out retrying after 10000ms: Expected to find content: 'Análise de Currículo' within the element: <h1.hero-title.fade-in.visible> but never did.",
            "whitespace": ""
          },
          {
            "function": "Context.eval",
            "fileUrl": "http://localhost:3001/__cypress/tests?p=cypress/e2e/cv-analysis-complete.cy.js",
            "originalFile": "webpack://cvsemfrescura-backend/./cypress/e2e/cv-analysis-complete.cy.js",
            "relativeFile": "cypress/e2e/cv-analysis-complete.cy.js",
            "absoluteFile": "/workspace/backend/cypress/e2e/cv-analysis-complete.cy.js",
            "line": 46,
            "column": 52,
            "whitespace": "    "
          }
        ],
        "codeFrame": {
          "line": 46,
          "column": 53,
          "originalFile": "cypress/e2e/cv-analysis-complete.cy.js",
          "relativeFile": "backend/cypress/e2e/cv-analysis-complete.cy.js",
          "absoluteFile": "/workspace/backend/cypress/e2e/cv-analysis-complete.cy.js",
          "frame": "  44 |     it('should display the analysis page correctly', () => {\n  45 |       // Check page title and main elements\n> 46 |       cy.get('h1').contains('Análise de Currículo').should('be.visible');\n     |                                                     ^\n  47 |       \n  48 |       // Check file upload area\n  49 |       cy.get('[data-cy=\"file-upload-area\"]').should('be.visible');",
          "language": "js"
        }
      }
    },
    {
      "title": "\"before each\" hook for \"should handle file drag and drop\"",
      "fullTitle": "Complete CV Analysis Flow CV Upload Process \"before each\" hook for \"should handle file drag and drop\"",
      "file": null,
      "currentRetry": 0,
      "err": {
        "message": "`cy.request()` failed on:\n\nhttp://localhost:3001/api/user/register\n\nThe response we received from your web server was:\n\n  > 400: Bad Request\n\nThis was considered a failure because the status code was not `2xx` or `3xx`.\n\nIf you do not want status codes to cause failures pass the option: `failOnStatusCode: false`\n\n-----------------------------------------------------------\n\nThe request we sent was:\n\nMethod: POST\nURL: http://localhost:3001/api/user/register\nHeaders: {\n  \"Connection\": \"keep-alive\",\n  \"user-agent\": \"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Cypress/14.5.3 Chrome/130.0.6723.137 Electron/33.2.1 Safari/537.36\",\n  \"accept\": \"*/*\",\n  \"accept-encoding\": \"gzip, deflate\",\n  \"content-type\": \"application/json\",\n  \"content-length\": 132\n}\nBody: {\"name\":\"CV Analysis Test User\",\"email\":\"cv.analysis.1753897346091@example.com\",\"password\":\"TestPassword123!\",\"phone\":\"11987654321\"}\n\n-----------------------------------------------------------\n\nThe response we got was:\n\nStatus: 400 - Bad Request\nHeaders: {\n  \"content-security-policy\": \"default-src 'self';style-src 'self' 'unsafe-inline';script-src 'self' 'unsafe-inline' https://js.stripe.com;img-src 'self' data: https:;connect-src 'self' https://api.openai.com https://api.stripe.com;font-src 'self' https://fonts.gstatic.com;object-src 'none';upgrade-insecure-requests;base-uri 'self';form-action 'self';frame-ancestors 'self';script-src-attr 'none'\",\n  \"cross-origin-opener-policy\": \"same-origin\",\n  \"cross-origin-resource-policy\": \"same-origin\",\n  \"origin-agent-cluster\": \"?1\",\n  \"referrer-policy\": \"no-referrer\",\n  \"strict-transport-security\": \"max-age=31536000; includeSubDomains; preload\",\n  \"x-content-type-options\": \"nosniff\",\n  \"x-dns-prefetch-control\": \"off\",\n  \"x-download-options\": \"noopen\",\n  \"x-frame-options\": \"SAMEORIGIN\",\n  \"x-permitted-cross-domain-policies\": \"none\",\n  \"x-xss-protection\": \"0\",\n  \"access-control-allow-origin\": \"*\",\n  \"access-control-allow-credentials\": \"true\",\n  \"content-type\": \"application/json; charset=utf-8\",\n  \"content-length\": \"33\",\n  \"etag\": \"W/\\\"21-+7HHFfFT5cNTh3xzIQS+DGwctdU\\\"\",\n  \"date\": \"Wed, 30 Jul 2025 17:42:36 GMT\",\n  \"connection\": \"keep-alive\",\n  \"keep-alive\": \"timeout=5\"\n}\nBody: {\n  \"error\": \"Email já cadastrado.\"\n}\n\n\nhttps://on.cypress.io/request\n\nBecause this error occurred during a `before each` hook we are skipping the remaining tests in the current suite: `Complete CV Analysis Flow`",
        "name": "CypressError",
        "stack": "CypressError: `cy.request()` failed on:\n\nhttp://localhost:3001/api/user/register\n\nThe response we received from your web server was:\n\n  > 400: Bad Request\n\nThis was considered a failure because the status code was not `2xx` or `3xx`.\n\nIf you do not want status codes to cause failures pass the option: `failOnStatusCode: false`\n\n-----------------------------------------------------------\n\nThe request we sent was:\n\nMethod: POST\nURL: http://localhost:3001/api/user/register\nHeaders: {\n  \"Connection\": \"keep-alive\",\n  \"user-agent\": \"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Cypress/14.5.3 Chrome/130.0.6723.137 Electron/33.2.1 Safari/537.36\",\n  \"accept\": \"*/*\",\n  \"accept-encoding\": \"gzip, deflate\",\n  \"content-type\": \"application/json\",\n  \"content-length\": 132\n}\nBody: {\"name\":\"CV Analysis Test User\",\"email\":\"cv.analysis.1753897346091@example.com\",\"password\":\"TestPassword123!\",\"phone\":\"11987654321\"}\n\n-----------------------------------------------------------\n\nThe response we got was:\n\nStatus: 400 - Bad Request\nHeaders: {\n  \"content-security-policy\": \"default-src 'self';style-src 'self' 'unsafe-inline';script-src 'self' 'unsafe-inline' https://js.stripe.com;img-src 'self' data: https:;connect-src 'self' https://api.openai.com https://api.stripe.com;font-src 'self' https://fonts.gstatic.com;object-src 'none';upgrade-insecure-requests;base-uri 'self';form-action 'self';frame-ancestors 'self';script-src-attr 'none'\",\n  \"cross-origin-opener-policy\": \"same-origin\",\n  \"cross-origin-resource-policy\": \"same-origin\",\n  \"origin-agent-cluster\": \"?1\",\n  \"referrer-policy\": \"no-referrer\",\n  \"strict-transport-security\": \"max-age=31536000; includeSubDomains; preload\",\n  \"x-content-type-options\": \"nosniff\",\n  \"x-dns-prefetch-control\": \"off\",\n  \"x-download-options\": \"noopen\",\n  \"x-frame-options\": \"SAMEORIGIN\",\n  \"x-permitted-cross-domain-policies\": \"none\",\n  \"x-xss-protection\": \"0\",\n  \"access-control-allow-origin\": \"*\",\n  \"access-control-allow-credentials\": \"true\",\n  \"content-type\": \"application/json; charset=utf-8\",\n  \"content-length\": \"33\",\n  \"etag\": \"W/\\\"21-+7HHFfFT5cNTh3xzIQS+DGwctdU\\\"\",\n  \"date\": \"Wed, 30 Jul 2025 17:42:36 GMT\",\n  \"connection\": \"keep-alive\",\n  \"keep-alive\": \"timeout=5\"\n}\nBody: {\n  \"error\": \"Email já cadastrado.\"\n}\n\n\nhttps://on.cypress.io/request\n\nBecause this error occurred during a `before each` hook we are skipping the remaining tests in the current suite: `Complete CV Analysis Flow`\n    at <unknown> (http://localhost:3001/__cypress/runner/cypress_runner.js:136330:72)\n    at tryCatcher (http://localhost:3001/__cypress/runner/cypress_runner.js:1777:23)\n    at Promise._settlePromiseFromHandler (http://localhost:3001/__cypress/runner/cypress_runner.js:1489:31)\n    at Promise._settlePromise (http://localhost:3001/__cypress/runner/cypress_runner.js:1546:18)\n    at Promise._settlePromise0 (http://localhost:3001/__cypress/runner/cypress_runner.js:1591:10)\n    at Promise._settlePromises (http://localhost:3001/__cypress/runner/cypress_runner.js:1671:18)\n    at _drainQueueStep (http://localhost:3001/__cypress/runner/cypress_runner.js:2377:12)\n    at _drainQueue (http://localhost:3001/__cypress/runner/cypress_runner.js:2370:9)\n    at Async._drainQueues (http://localhost:3001/__cypress/runner/cypress_runner.js:2386:5)\n    at Async.drainQueues (http://localhost:3001/__cypress/runner/cypress_runner.js:2256:14)\nFrom Your Spec Code:\n    at Context.eval (webpack://cvsemfrescura-backend/./cypress/support/commands.js:40:5)\n    at wrapped (http://localhost:3001/__cypress/runner/cypress_runner.js:141524:43)",
        "parsedStack": [
          {
            "message": "CypressError: `cy.request()` failed on:",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "http://localhost:3001/api/user/register",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "The response we received from your web server was:",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "> 400: Bad Request",
            "whitespace": "  "
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "This was considered a failure because the status code was not `2xx` or `3xx`.",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "If you do not want status codes to cause failures pass the option: `failOnStatusCode: false`",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "-----------------------------------------------------------",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "The request we sent was:",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "Method: POST",
            "whitespace": ""
          },
          {
            "message": "URL: http://localhost:3001/api/user/register",
            "whitespace": ""
          },
          {
            "message": "Headers: {",
            "whitespace": ""
          },
          {
            "message": "\"Connection\": \"keep-alive\",",
            "whitespace": "  "
          },
          {
            "message": "\"user-agent\": \"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Cypress/14.5.3 Chrome/130.0.6723.137 Electron/33.2.1 Safari/537.36\",",
            "whitespace": "  "
          },
          {
            "message": "\"accept\": \"*/*\",",
            "whitespace": "  "
          },
          {
            "message": "\"accept-encoding\": \"gzip, deflate\",",
            "whitespace": "  "
          },
          {
            "message": "\"content-type\": \"application/json\",",
            "whitespace": "  "
          },
          {
            "message": "\"content-length\": 132",
            "whitespace": "  "
          },
          {
            "message": "}",
            "whitespace": ""
          },
          {
            "message": "Body: {\"name\":\"CV Analysis Test User\",\"email\":\"cv.analysis.1753897346091@example.com\",\"password\":\"TestPassword123!\",\"phone\":\"11987654321\"}",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "-----------------------------------------------------------",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "The response we got was:",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "message": "Status: 400 - Bad Request",
            "whitespace": ""
          },
          {
            "message": "Headers: {",
            "whitespace": ""
          },
          {
            "message": "\"content-security-policy\": \"default-src 'self';style-src 'self' 'unsafe-inline';script-src 'self' 'unsafe-inline' https://js.stripe.com;img-src 'self' data: https:;connect-src 'self' https://api.openai.com https://api.stripe.com;font-src 'self' https://fonts.gstatic.com;object-src 'none';upgrade-insecure-requests;base-uri 'self';form-action 'self';frame-ancestors 'self';script-src-attr 'none'\",",
            "whitespace": "  "
          },
          {
            "message": "\"cross-origin-opener-policy\": \"same-origin\",",
            "whitespace": "  "
          },
          {
            "message": "\"cross-origin-resource-policy\": \"same-origin\",",
            "whitespace": "  "
          },
          {
            "message": "\"origin-agent-cluster\": \"?1\",",
            "whitespace": "  "
          },
          {
            "message": "\"referrer-policy\": \"no-referrer\",",
            "whitespace": "  "
          },
          {
            "message": "\"strict-transport-security\": \"max-age=31536000; includeSubDomains; preload\",",
            "whitespace": "  "
          },
          {
            "message": "\"x-content-type-options\": \"nosniff\",",
            "whitespace": "  "
          },
          {
            "message": "\"x-dns-prefetch-control\": \"off\",",
            "whitespace": "  "
          },
          {
            "message": "\"x-download-options\": \"noopen\",",
            "whitespace": "  "
          },
          {
            "message": "\"x-frame-options\": \"SAMEORIGIN\",",
            "whitespace": "  "
          },
          {
            "message": "\"x-permitted-cross-domain-policies\": \"none\",",
            "whitespace": "  "
          },
          {
            "message": "\"x-xss-protection\": \"0\",",
            "whitespace": "  "
          },
          {
            "message": "\"access-control-allow-origin\": \"*\",",
            "whitespace": "  "
          },
          {
            "message": "\"access-control-allow-credentials\": \"true\",",
            "whitespace": "  "
          },
          {
            "message": "\"content-type\": \"application/json; charset=utf-8\",",
            "whitespace": "  "
          },
          {
            "message": "\"content-length\": \"33\",",
            "whitespace": "  "
          },
          {
            "message": "\"etag\": \"W/\\\"21-+7HHFfFT5cNTh3xzIQS+DGwctdU\\\"\",",
            "whitespace": "  "
          },
          {
            "message": "\"date\": \"Wed, 30 Jul 2025 17:42:36 GMT\",",
            "whitespace": "  "
          },
          {
            "message": "\"connection\": \"keep-alive\",",
            "whitespace": "  "
          },
          {
            "message": "\"keep-alive\": \"timeout=5\"",
            "whitespace": "  "
          },
          {
            "message": "}",
            "whitespace": ""
          },
          {
            "message": "Body: {",
            "whitespace": ""
          },
          {
            "message": "\"error\": \"Email já cadastrado.\"",
            "whitespace": "  "
          },
          {
            "message": "}",
            "whitespace": ""
          },
          {
            "message": "",
            "whitespace": ""
          },
          {
            "function": "<unknown>",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 136330,
            "column": 72,
            "whitespace": "    "
          },
          {
            "function": "tryCatcher",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 1777,
            "column": 23,
            "whitespace": "    "
          },
          {
            "function": "Promise._settlePromiseFromHandler",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 1489,
            "column": 31,
            "whitespace": "    "
          },
          {
            "function": "Promise._settlePromise",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 1546,
            "column": 18,
            "whitespace": "    "
          },
          {
            "function": "Promise._settlePromise0",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 1591,
            "column": 10,
            "whitespace": "    "
          },
          {
            "function": "Promise._settlePromises",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 1671,
            "column": 18,
            "whitespace": "    "
          },
          {
            "function": "_drainQueueStep",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 2377,
            "column": 12,
            "whitespace": "    "
          },
          {
            "function": "_drainQueue",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 2370,
            "column": 9,
            "whitespace": "    "
          },
          {
            "function": "Async._drainQueues",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 2386,
            "column": 5,
            "whitespace": "    "
          },
          {
            "function": "Async.drainQueues",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 2256,
            "column": 14,
            "whitespace": "    "
          },
          {
            "message": "From Your Spec Code:",
            "whitespace": ""
          },
          {
            "function": "Context.eval",
            "fileUrl": "http://localhost:3001/__cypress/tests?p=cypress/support/e2e.js",
            "originalFile": "webpack://cvsemfrescura-backend/./cypress/support/commands.js",
            "relativeFile": "cypress/support/commands.js",
            "absoluteFile": "/workspace/backend/cypress/support/commands.js",
            "line": 40,
            "column": 5,
            "whitespace": "    "
          },
          {
            "function": "wrapped",
            "fileUrl": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "originalFile": "http://localhost:3001/__cypress/runner/cypress_runner.js",
            "line": 141524,
            "column": 43,
            "whitespace": "    "
          }
        ],
        "codeFrame": {
          "line": 40,
          "column": 6,
          "originalFile": "cypress/support/commands.js",
          "relativeFile": "backend/cypress/support/commands.js",
          "absoluteFile": "/workspace/backend/cypress/support/commands.js",
          "frame": "  38 |   const user = { ...defaultUser, ...userData };\n  39 |   \n> 40 |   cy.request('POST', `${Cypress.env('apiUrl')}/user/register`, user)\n     |      ^\n  41 |     .then((response) => {\n  42 |       expect(response.status).to.eq(201);\n  43 |       return response.body;",
          "language": "js"
        }
      }
    }
  ],
  "passes": []
}
  (Results)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Tests:        21                                                                               │
  │ Passing:      0                                                                                │
  │ Failing:      2                                                                                │
  │ Pending:      0                                                                                │
  │ Skipped:      19                                                                               │
  │ Screenshots:  2                                                                                │
  │ Video:        true                                                                             │
  │ Duration:     10 seconds                                                                       │
  │ Spec Ran:     cv-analysis-complete.cy.js                                                       │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


  (Screenshots)

  -  /workspace/backend/cypress/screenshots/cv-analysis-complete.cy.js/Complete CV An     (1280x720)
     alysis Flow -- CV Upload Process -- should display the analysis page correctly (               
     failed).png                                                                                    
  -  /workspace/backend/cypress/screenshots/cv-analysis-complete.cy.js/Complete CV An     (1280x720)
     alysis Flow -- should handle file drag and drop -- before each hook (failed).png               


  (Video)

  -  Video output: /workspace/backend/cypress/videos/cv-analysis-complete.cy.js.mp4


================================================================================

  (Run Finished)


       Spec                                              Tests  Passing  Failing  Pending  Skipped  
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✖  auth.cy.js                               02:47       24        -       19        -        5 │
  ├────────────────────────────────────────────────────────────────────────────────────────────────┤
  │ ✖  payment.cy.js                            00:10       27        -        2        -       25 │
  ├────────────────────────────────────────────────────────────────────────────────────────────────┤
  │ ✖  cv-analysis-complete.cy.js               00:10       21        -        2        -       19 │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    ✖  3 of 3 failed (100%)                     03:08       72        -       23        -       49  

